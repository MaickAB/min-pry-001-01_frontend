import{d as rt}from"./chunk-R2XLAL2B.js";import{a as ze,b as ke,c as Ce}from"./chunk-P5K5KTAJ.js";import{a as lt,b as Le}from"./chunk-2RUBCXOU.js";import{b as at}from"./chunk-GOSJJDVW.js";import"./chunk-MJOHIA6K.js";import{a as ve,b as te,d as X,e as he,f as xe,i as j,j as ie,k as oe,l as W,m as G}from"./chunk-ZSPJV2X2.js";import{f as ge,g as Y,h as le}from"./chunk-64FVGRX5.js";import{c as $,d as ee}from"./chunk-AIZYAHQP.js";import{a as fe,b as L}from"./chunk-AQMLQG24.js";import"./chunk-R25NPE2E.js";import{$ as F,E as A,I as w,N as P,_ as N,a as _e,aa as z,ba as k,t as K,v as Z,w as J,x as Te,z as V}from"./chunk-KZFJR7EH.js";import{$ as R,Ab as S,Bb as me,Cb as M,Db as h,Ea as c,Fa as v,Mb as U,Nb as H,R as ce,Ua as f,W as se,Wa as d,Za as b,db as o,eb as i,fb as m,ja as u,jb as E,ka as _,kb as g,lb as p,nc as D,pb as ne,qb as re,qc as ue,rb as ae,rc as O,sa as q,sb as de,tb as s,ub as B,vb as I,wb as We,xb as pe,yb as x,zb as C}from"./chunk-VURLBMTQ.js";var Ge=(()=>{let l=class l{constructor(e){this.httpClient=e,this.url="http://127.0.0.1:8000/api/codificador/entorno/cliente/"}index(){return this.httpClient.get(this.url+"index")}create(){return this.httpClient.get(this.url+"create")}store(e){return this.httpClient.post(this.url+"store",e)}edit(e){return this.httpClient.get(this.url+"edit/"+e)}update(e){return this.httpClient.put(this.url+"update",e)}destroy(e){return this.httpClient.delete(this.url+"destroy/"+e)}};l.\u0275fac=function(t){return new(t||l)(se(_e))},l.\u0275prov=ce({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();var Tt=()=>({width:"75vw"});function Rt(r,l){r&1&&(o(0,"small",27),s(1,"Requerido."),i())}function Mt(r,l){r&1&&(o(0,"small",27),s(1,"Requerido, Alfanum\xE9rico de 1-20."),i())}function Dt(r,l){r&1&&(o(0,"small",27),s(1,"Requerido, Alfanum\xE9rico de 1-50."),i())}function Ot(r,l){r&1&&(o(0,"small",27),s(1,"Opcional, Alfanum\xE9rico de 0-200."),i())}function Vt(r,l){r&1&&(o(0,"small",27),s(1,"Opcional, Num\xE9rico de 0-10."),i())}function Pt(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"label"),s(6,"Regional:"),i()(),o(7,"div",8)(8,"p-dropdown",9),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cliente.idRegional,t)||(a.cliente.idRegional=t),_(t)}),i(),f(9,Rt,2,0,"small",10),i()()()(),m(10,"hr"),o(11,"div",11)(12,"div",12)(13,"div",13),m(14,"i",14),i(),o(15,"div",15)(16,"div",16)(17,"label",17),s(18,"C\xF3digo"),i(),o(19,"input",18),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cliente.codigo,t)||(a.cliente.codigo=t),_(t)}),i(),f(20,Mt,2,0,"small",10),i(),o(21,"div",16)(22,"label",19),s(23,"Nombre"),i(),o(24,"input",20),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cliente.nombre,t)||(a.cliente.nombre=t),_(t)}),i(),f(25,Dt,2,0,"small",10),i(),o(26,"div",16)(27,"label",21),s(28,"Description"),i(),o(29,"textarea",22),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cliente.descripcion,t)||(a.cliente.descripcion=t),_(t)}),i(),f(30,Ot,2,0,"small",10),i(),o(31,"div",23)(32,"div",24)(33,"label",25),s(34,"Tel\xE9fono :"),i()(),o(35,"div",8)(36,"input",26),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cliente.fono,t)||(a.cliente.fono=t),_(t)}),i(),f(37,Vt,2,0,"small",10),i()()()()(),m(38,"hr"),o(39,"div")(40,"p")(41,"b"),s(42,"USUARIO: "),i(),s(43),m(44,"br"),o(45,"b"),s(46,"FECHA: "),i(),s(47),U(48,"date"),o(49,"b"),s(50,"HORA: "),i(),s(51),U(52,"date"),i()()()}if(r&2){let n=p(2);c(8),d("options",n.regionales),x("ngModel",n.cliente.idRegional),c(),d("ngIf",!n.valIdRegional()),c(10),x("ngModel",n.cliente.codigo),c(),d("ngIf",!n.valCodigo()),c(4),x("ngModel",n.cliente.nombre),c(),d("ngIf",!n.valNombre()),c(4),x("ngModel",n.cliente.descripcion),c(),d("ngIf",!n.valDescripcion()),c(6),x("ngModel",n.cliente.fono),c(),d("ngIf",!n.valFono()),c(6),pe(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),c(4),I(" ",H(48,16,n.fechaHora,"dd/MM/yyyy")," "),c(4),I(" ",H(52,19,n.fechaHora,"HH:mm:ss")," ")}}function Nt(r,l){r&1&&(o(0,"div")(1,"div",28),m(2,"p-progressSpinner",29),o(3,"span",30),s(4,"Cargando..."),i()()())}function Ft(r,l){if(r&1&&(m(0,"hr"),f(1,Pt,53,22,"div",3)(2,Nt,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(),d("ngIf",n.loading)}}function zt(r,l){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),m(3,"span",35),i())}function kt(r,l){if(r&1){let n=E();o(0,"div",31)(1,"div",32),f(2,zt,4,0,"div",3),i(),o(3,"div",8)(4,"p-button",33),g("click",function(){u(n);let t=p();return _(t.save())}),i(),o(5,"p-button",34),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()()}if(r&2){let n=p();c(2),d("ngIf",n.saving),c(2),d("text",!0)("raised",!0)("hidden",n.saving),c(),d("text",!0)("raised",!0)}}var Ke=(()=>{let l=class l{constructor(e,t,a){this.principalService=e,this.messageService=t,this.clienteService=a,this.changeCliente=new q}showCreate(){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->create"),this.clienteService.create().subscribe({next:e=>{this.regionales=e.regionales,this.cliente={codigo:"",nombre:"",descripcion:"",fono:""},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->edit Error en:",e.error)},complete:()=>{this.loading=!1}})}showEdit(e){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->edit",e),this.clienteService.edit(e).subscribe({next:t=>{this.regionales=t.regionales,this.cliente=t.cliente,this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->edit Error en:",t.error)},complete:()=>{this.loading=!1}})}save(){this.validate()?(this.saving=!0,this.cliente.id?(console.log("REQUEST->update",this.cliente),this.clienteService.update(this.cliente).subscribe({next:e=>{this.cliente=e.cliente,this.changeCliente.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->update",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->update Error en:",e.error)}})):(console.log("REQUEST->store",this.cliente),this.clienteService.store(this.cliente).subscribe({next:e=>{this.cliente=e.cliente,this.changeCliente.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->store",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->store Error en:",e.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valIdRegional(){return!!this.cliente.idRegional}valCodigo(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,20}$/.test(this.cliente.codigo)}valNombre(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,50}$/.test(this.cliente.nombre)}valDescripcion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.cliente.descripcion)}valFono(){return!!/^[\d +-]{0,20}$/.test(this.cliente.fono||"")}validate(){return this.cliente?this.valCodigo()&&this.valNombre()&&this.valDescripcion()&&this.valCodigo():"Cliente Vacio.false"}};l.\u0275fac=function(t){return new(t||l)(v(le),v(w),v(Ge))},l.\u0275cmp=R({type:l,selectors:[["app-dialog-cliente"]],outputs:{changeCliente:"changeCliente"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE CLIENTES","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],[1,"col-6"],["id","idRegional","optionValue","id","optionLabel","nombre",3,"ngModelChange","options","ngModel"],["class","p-error",4,"ngIf"],[1,"card","shadow-3"],[1,"grid"],[1,"col-12","md:col-4","text-center","pt-5"],[1,"pi","pi-users",2,"font-size","160px"],[1,"col-12","md:col-8","pr-5"],[1,"field"],["for","codigo"],["type","text","pInputText","","id","codigo",1,"w-full",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","pInputText","","id","nombre",1,"w-full",3,"ngModelChange","ngModel"],["for","descripcion"],["pInputTextarea","","id","descripcion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","pt-2"],[1,"col-6","text-right","pt-3"],["for","porcentaje"],["type","text","pInputText","","id","fono",1,"w-full",3,"ngModelChange","ngModel"],[1,"p-error"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,Ft,3,2,"ng-template",1)(2,kt,6,6,"ng-template",2),i()),t&2&&(b(h(4,Tt)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Ce,P,Y,ge,j,O,D,ue,oe,ie,V,K,Z,J,F,N,k,z,ee,$,L]});let r=l;return r})();var Lt=()=>({width:"450px"}),jt=()=>({width:"100%"}),Wt=()=>[10,25,50],Gt=()=>["id","codigo","nombre","descripcion","fono"],At=()=>({"min-width":"75rem"});function Bt(r,l){if(r&1){let n=E();o(0,"div",17)(1,"div",18)(2,"p-button",19),g("click",function(){u(n);let t=p(2);return _(t.showCreate())}),i(),o(3,"p-button",20),g("click",function(){u(n);let t=p(2);return _(t.exportXLS())}),i()(),o(4,"div",21)(5,"span",22),m(6,"i",23),o(7,"input",24),g("input",function(t){u(n),p();let a=de(12);return _(a.filterGlobal(t.target.value,"contains"))}),i()()()()}r&2&&(c(2),d("outlined",!0)("raised",!0),c(),d("outlined",!0)("raised",!0)("text",!0))}function Ut(r,l){r&1&&(o(0,"tr")(1,"th",25),s(2," FOTO "),m(3,"p-sortIcon",26),i(),o(4,"th",27),s(5," CODIGO "),m(6,"p-sortIcon",28),i(),o(7,"th",29),s(8," NOMBRE "),m(9,"p-sortIcon",30),i(),o(10,"th",31),s(11," TEL\xC9FONO "),m(12,"p-sortIcon",32),i(),o(13,"th",33),s(14," OPCIONES "),i()())}function Ht(r,l){if(r&1){let n=E();o(0,"tr")(1,"td",34)(2,"div",35),m(3,"i",36),i()(),o(4,"td"),s(5),i(),o(6,"td"),s(7),i(),o(8,"td"),s(9),i(),o(10,"td")(11,"p-button",37),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showReport(t.id))}),i(),o(12,"p-button",38),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showEdit(t.id))}),i(),o(13,"p-button",39),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDelete(t.id))}),i()()()}if(r&2){let n=l.$implicit;c(5),B(n.codigo),c(2),B(n.nombre),c(2),B(n.fono),c(2),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0)}}function Qt(r,l){if(r&1){let n=E();o(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",10),s(7,"Regional:"),i()(),o(8,"div",11)(9,"p-dropdown",12),g("onChange",function(t){u(n);let a=p();return _(a.filter(t.value))})("onClear",function(){u(n);let t=p();return _(t.clearFilter())}),i()()()()(),m(10,"hr"),o(11,"p-table",13,0),f(13,Bt,8,5,"ng-template",14)(14,Ut,15,0,"ng-template",15)(15,Ht,14,9,"ng-template",16),i()()()}if(r&2){let n=p();c(9),b(h(12,jt)),d("options",n.regionales)("showClear",!0),c(2),d("value",n.clientes)("rows",10)("rowsPerPageOptions",h(13,Wt))("paginator",!0)("globalFilterFields",h(14,Gt))("tableStyle",h(15,At))("rowHover",!0)("showCurrentPageReport",!0)}}function Xt(r,l){r&1&&(o(0,"div")(1,"div",40),m(2,"p-progressSpinner",41),o(3,"span",42),s(4,"MINEXA S.R.L."),i()()())}var st=(()=>{let l=class l{constructor(e,t,a){this.clienteService=e,this.messageService=t,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.clienteService.index().subscribe({next:e=>{this.regionales=e.regionales,this.clientes=e.clientes,this.data=e.clientes,console.log("RESPONSE->index",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->index Error en:",e.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(e){this.dialog.showEdit(e)}showDelete(e){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",e),this.clienteService.destroy(e).subscribe({next:t=>{this.clientes=this.clientes.filter(a=>a.id!==e),this.messageService.add({severity:"success",summary:"RESPONSE",detail:t.msg,life:3e3}),console.log("RESPONSE->destroy",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->destroy Error en:",t.error)}})}})}showReport(e){alert("showReport"+e)}exportXLS(){alert("exportXLS")}filter(e){this.clientes=this.data.filter(t=>t.idRegional==e)}clearFilter(){this.clientes=this.data}};l.\u0275fac=function(t){return new(t||l)(v(Ge),v(w),v(A))},l.\u0275cmp=R({type:l,selectors:[["app-index-cliente"]],viewQuery:function(t,a){if(t&1&&ne(Ke,5),t&2){let y;re(y=ae())&&(a.dialog=y.first)}},standalone:!0,features:[me([w,A]),M],decls:11,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changeCliente"],[1,"card-body","shadow-5"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],["for","regional"],[1,"col-6"],["id","regional","optionValue","id","optionLabel","nombre","placeholder","TODOS",3,"onChange","onClear","options","showClear"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id",1,"text-center",2,"width","10%"],["field","id"],["pSortableColumn","codigo",2,"width","20%"],["field","codigo"],["pSortableColumn","nombre",2,"width","30%"],["field","nombre"],["pSortableColumn","fono",2,"width","20%"],["field","fono"],[2,"width","20%"],[1,"flex","justify-content-center"],[1,"text-center",2,"padding","10px","border","2px solid #dcdcdc","border-radius","50%","width","60px","height","60px"],[1,"pi","pi-users",2,"font-size","30px"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(t,a){t&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n de Clientes"),i()(),m(3,"hr"),f(4,Qt,16,16,"div",2),m(5,"hr"),o(6,"div",3)(7,"app-dialog-cliente",4),g("changeCliente",function(){return a.show()}),i(),m(8,"p-confirmDialog")(9,"p-toast"),i(),f(10,Xt,5,0,"div",2)),t&2&&(c(4),d("ngIf",!a.loading),c(4),b(h(4,Lt)),c(2),d("ngIf",a.loading))},dependencies:[G,W,j,X,P,he,xe,Y,ge,F,N,L,fe,te,ve,O,D,k,z,V,Ke]});let r=l;return r})();var Ae=(()=>{let l=class l{constructor(e){this.httpClient=e,this.url="http://127.0.0.1:8000/api/codificador/entorno/legal/cotizacion/"}index(){return this.httpClient.get(this.url+"index")}create(){return this.httpClient.get(this.url+"create")}store(e){return this.httpClient.post(this.url+"store",e)}edit(e){return this.httpClient.get(this.url+"edit/"+e)}update(e){return this.httpClient.put(this.url+"update",e)}destroy(e){return this.httpClient.delete(this.url+"destroy/"+e)}};l.\u0275fac=function(t){return new(t||l)(se(_e))},l.\u0275prov=ce({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();var qt=()=>({width:"75vw"}),pt=()=>({width:"100%"}),mt=()=>({width:"130px"});function Kt(r,l){r&1&&(o(0,"small",25),s(1,"Requerido, tipo Fecha."),i())}function Zt(r,l){r&1&&(o(0,"small",25),s(1,"Opcional, Alfanum\xE9rico de 0-200."),i())}function Jt(r,l){r&1&&(o(0,"tr")(1,"th",26),s(2,"MINERAL"),i(),o(3,"th",27),s(4,"COTIZACI\xD3N"),i(),o(5,"th",27),s(6,"UNIDAD MEDIDA"),i()())}function Yt(r,l){if(r&1){let n=E();o(0,"tr")(1,"td"),s(2),i(),o(3,"td")(4,"input",28),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.id,t)||(a.id=t),_(t)}),i(),o(5,"input",29),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.valorCotizacion,t)||(a.valorCotizacion=t),_(t)}),i()(),o(6,"td")(7,"p-dropdown",30),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.idUnidadMedida,t)||(a.idUnidadMedida=t),_(t)}),i()()()}if(r&2){let n=l.$implicit,e=p(3);c(2),We("",n.nombre," (",n.abreviatura,")"),c(2),x("ngModel",n.id),c(),x("ngModel",n.valorCotizacion),c(2),d("options",e.unidadMedidas),x("ngModel",n.idUnidadMedida),d("appendTo","body")}}function $t(r,l){r&1&&(o(0,"tr")(1,"th",26),s(2,"DIVISA"),i(),o(3,"th",27),s(4,"COTIZACI\xD3N"),i(),o(5,"th",27),s(6,"UNIDAD MEDIDA"),i()())}function ei(r,l){if(r&1){let n=E();o(0,"tr")(1,"td"),s(2),i(),o(3,"td")(4,"input",28),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.id,t)||(a.id=t),_(t)}),i(),o(5,"input",29),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.valor,t)||(a.valor=t),_(t)}),i()(),o(6,"td"),m(7,"input",31),i()()}if(r&2){let n=l.$implicit;c(2),We("",n.nombre,"\xA0 (",n.abreviatura,")"),c(2),x("ngModel",n.id),c(),x("ngModel",n.valor),c(2),d("disabled",!0)}}function ti(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),m(5,"i",8)(6,"hr")(7,"hr"),i(),o(8,"div",9)(9,"label",10),s(10,"Fecha"),i(),o(11,"input",11),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cotizacion.fecha,t)||(a.cotizacion.fecha=t),_(t)}),i(),f(12,Kt,2,0,"small",12),i(),o(13,"div",9)(14,"label",13),s(15,"Observaciones"),i(),o(16,"textarea",14),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cotizacion.observacion,t)||(a.cotizacion.observacion=t),_(t)}),i(),f(17,Zt,2,0,"small",12),i()()(),o(18,"div",15)(19,"div",6)(20,"p-tabView",16),S("activeIndexChange",function(t){u(n);let a=p(2);return C(a.activeIndex,t)||(a.activeIndex=t),_(t)}),o(21,"p-tabPanel",17)(22,"h5"),s(23,"Cotizaci\xF3n diaria de Minerales"),i(),m(24,"hr"),o(25,"p-table",18),f(26,Jt,7,0,"ng-template",19)(27,Yt,8,7,"ng-template",20),i(),o(28,"div",21)(29,"p-button",22),g("onClick",function(){u(n);let t=p(2);return _(t.activeIndex=1)}),i()()(),o(30,"p-tabPanel",23)(31,"h5"),s(32,"Cotizaci\xF3n diaria de Divisa"),i(),m(33,"hr"),o(34,"p-table",18),f(35,$t,7,0,"ng-template",19)(36,ei,8,5,"ng-template",20),i(),o(37,"div",21)(38,"p-button",24),g("onClick",function(){u(n);let t=p(2);return _(t.activeIndex=0)}),i()()()()()()(),m(39,"hr"),o(40,"div")(41,"p")(42,"b"),s(43,"USUARIO: "),i(),s(44),m(45,"br"),o(46,"b"),s(47,"FECHA: "),i(),s(48),U(49,"date"),o(50,"b"),s(51,"HORA: "),i(),s(52),U(53,"date"),i()()()}if(r&2){let n=p(2);c(11),x("ngModel",n.cotizacion.fecha),c(),d("ngIf",!n.valFecha()),c(4),x("ngModel",n.cotizacion.observacion),c(),d("ngIf",!n.valObservacion()),c(3),x("activeIndex",n.activeIndex),c(5),d("value",n.detalleMinerales)("rowHover",!0)("tableStyle",h(30,pt)),c(4),b(h(31,mt)),d("rounded",!0)("outlined",!0),c(5),d("value",n.detalleDivisas)("rowHover",!0)("tableStyle",h(32,pt)),c(4),b(h(33,mt)),d("rounded",!0)("outlined",!0),c(6),pe(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),c(4),I(" ",H(49,24,n.fechaHora,"dd/MM/yyyy")," "),c(4),I(" ",H(53,27,n.fechaHora,"HH:mm:ss")," ")}}function ii(r,l){r&1&&(o(0,"div")(1,"div",32),m(2,"p-progressSpinner",33),o(3,"span",34),s(4,"Cargando..."),i()()())}function oi(r,l){if(r&1&&(m(0,"hr"),f(1,ti,54,34,"div",3)(2,ii,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(),d("ngIf",n.loading)}}function ni(r,l){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),m(3,"span",40),i())}function ri(r,l){if(r&1){let n=E();o(0,"div",35)(1,"div",36),f(2,ni,4,0,"div",3),i(),o(3,"div",37)(4,"p-button",38),g("click",function(){u(n);let t=p();return _(t.save())}),i(),o(5,"p-button",39),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()()}if(r&2){let n=p();c(2),d("ngIf",n.saving),c(2),d("text",!0)("raised",!0)("hidden",n.saving),c(),d("text",!0)("raised",!0)}}var Ze=(()=>{let l=class l{constructor(e,t,a){this.principalService=e,this.messageService=t,this.cotizacionService=a,this.changeCotizacion=new q}showCreate(){this.estado=!0,this.loading=!0,this.saving=!1,this.activeIndex=0,console.log("REQUEST->create"),this.cotizacionService.create().subscribe({next:e=>{this.detalleMinerales=e.minerales.map(t=>({abreviatura:t.abreviatura,nombre:t.nombre,idUnidadMedida:null,idMineral:t.id,cotizacion:t.cotizacion??"",valorCotizacion:null})),this.detalleDivisas=e.divisas.map(t=>({abreviatura:t.abreviatura,nombre:t.nombre,idDivisa:t.id,cotizacion:t.cotizacion??"",valor:null})),this.unidadMedidas=e.unidadMedidas,this.cotizacion={fecha:"",observacion:"",cotizacionmineral:[],cotizaciondivisa:[]},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->create",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->create Error en:",e.error)},complete:()=>{this.loading=!1}})}showEdit(e){this.estado=!0,this.loading=!0,this.saving=!1,this.activeIndex=0,console.log("REQUEST->edit",e),this.cotizacionService.edit(e).subscribe({next:t=>{this.minerales=t.minerales,this.unidadMedidas=t.unidadMedidas,this.divisas=t.divisas,this.cotizacion=t.cotizacion,this.updateDetalles(),this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->edit Error en:",t.error)},complete:()=>{this.loading=!1}})}save(){this.prepareData(),this.validate()?(this.saving=!0,this.cotizacion.id?(console.log("REQUEST->update",this.cotizacion),this.cotizacionService.update(this.cotizacion).subscribe({next:e=>{this.cotizacion=e.cotizacion,this.changeCotizacion.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->update",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->update Error en:",e.error)}})):(console.log("REQUEST->store",this.cotizacion),this.cotizacionService.store(this.cotizacion).subscribe({next:e=>{this.cotizacion=e.cotizacion,this.changeCotizacion.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->store",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->store Error en:",e.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}prepareData(){this.cotizacion.cotizacionmineral=this.detalleMinerales.map(e=>({idUnidadMedida:e.idUnidadMedida,idMineral:e.idMineral,valorCotizacion:e.valorCotizacion})),this.cotizacion.cotizaciondivisa=this.detalleDivisas.map(e=>({idDivisa:e.idDivisa,valor:e.valor}))}updateDetalles(){this.detalleMinerales=[],this.minerales.forEach(e=>{this.cotizacion.cotizacionmineral.forEach(t=>{e.id==t.idMineral&&this.detalleMinerales.push({abreviatura:e.abreviatura,nombre:e.nombre,cotizacion:e.cotizacion,idUnidadMedida:t.idUnidadMedida,idMineral:t.idMineral,valorCotizacion:t.valorCotizacion})})}),this.detalleDivisas=[],this.divisas.forEach(e=>{this.cotizacion.cotizaciondivisa.forEach(t=>{e.id==t.idDivisa&&this.detalleDivisas.push({abreviatura:e.abreviatura,nombre:e.nombre,cotizacion:e.cotizacion,idDivisa:e.id,valor:t.valor})})})}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valFecha(){return!!/^[\d/-]{1,10}$/.test(this.cotizacion.fecha)}valObservacion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.cotizacion.observacion)}validate(){return this.cotizacion?this.valFecha()&&this.valObservacion():"Cotizacion Vacia.false"}};l.\u0275fac=function(t){return new(t||l)(v(le),v(w),v(Ae))},l.\u0275cmp=R({type:l,selectors:[["app-dialog-cotizacion"]],outputs:{changeCotizacion:"changeCotizacion"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE COTIZACIONES DIARIAS","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid"],[1,"col-12","sm:col-4"],[1,"card","shadow-3",2,"min-height","500px"],[1,"text-center"],[1,"pi","pi-briefcase",2,"font-size","120px"],[1,"field"],["for","fecha"],["type","date","pInputText","","id","fecha",1,"w-full",3,"ngModelChange","ngModel"],["class","p-error",4,"ngIf"],["for","observacion"],["pInputTextarea","","id","observacion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"col-12","sm:col-8"],[3,"activeIndexChange","activeIndex"],["header","MINERALES"],["dataKey","id",3,"value","rowHover","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"text-right","mt-3"],["label","Siguiente","severity","success","icon","pi pi-arrow-right","iconPos","right",3,"onClick","rounded","outlined"],["header","DIVISA"],["label","Anterior","severity","success","icon","pi pi-arrow-left","iconPos","left",3,"onClick","rounded","outlined"],[1,"p-error"],[2,"width","40%"],[2,"width","30%"],["type","hidden","pInputText","",3,"ngModelChange","ngModel"],["type","number","pInputText","",3,"ngModelChange","ngModel"],["id","idUnidadMedida","optionValue","id","optionLabel","abreviatura",3,"ngModelChange","options","ngModel","appendTo"],["type","text","pInputText","","value","Bs.",3,"disabled"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],[1,"col-6"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,oi,3,2,"ng-template",1)(2,ri,6,6,"ng-template",2),i()),t&2&&(b(h(4,qt)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Ce,ke,ze,P,j,X,te,N,Y,ge,O,D,ue,oe,ie,V,K,Te,Z,J,F,k,z,ee,$,L]});let r=l;return r})();var ai=()=>({width:"450px"}),li=()=>[10,25,50],ci=()=>["id","fecha","observacion"],si=()=>({"min-width":"75rem"});function di(r,l){if(r&1){let n=E();o(0,"div",10)(1,"div",11)(2,"p-button",12),g("click",function(){u(n);let t=p(2);return _(t.showCreate())}),i(),o(3,"p-button",13),g("click",function(){u(n);let t=p(2);return _(t.exportXLS())}),i()(),o(4,"div",14)(5,"span",15),m(6,"i",16),o(7,"input",17),g("input",function(t){u(n),p();let a=de(3);return _(a.filterGlobal(t.target.value,"contains"))}),i()()()()}r&2&&(c(2),d("outlined",!0)("raised",!0),c(),d("outlined",!0)("raised",!0)("text",!0))}function pi(r,l){r&1&&(o(0,"tr")(1,"th",18),s(2," FOTO "),m(3,"p-sortIcon",19),i(),o(4,"th",20),s(5," FECHA "),m(6,"p-sortIcon",21),i(),o(7,"th",22),s(8," OBSERVACIONES "),m(9,"p-sortIcon",23),i(),o(10,"th",24),s(11," OPCIONES "),i()())}function mi(r,l){if(r&1){let n=E();o(0,"tr")(1,"td",25)(2,"div",26),m(3,"i",27),i()(),o(4,"td"),s(5),i(),o(6,"td"),s(7),i(),o(8,"td")(9,"p-button",28),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showReport(t.id))}),i(),o(10,"p-button",29),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showEdit(t.id))}),i(),o(11,"p-button",30),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDelete(t.id))}),i()()()}if(r&2){let n=l.$implicit;c(5),B(n.fecha),c(2),B(n.observacion),c(2),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0)}}function ui(r,l){if(r&1&&(o(0,"div")(1,"div",5)(2,"p-table",6,0),f(4,di,8,5,"ng-template",7)(5,pi,12,0,"ng-template",8)(6,mi,12,8,"ng-template",9),i()()()),r&2){let n=p();c(2),d("value",n.cotizaciones)("rows",10)("rowsPerPageOptions",h(8,li))("paginator",!0)("globalFilterFields",h(9,ci))("tableStyle",h(10,si))("rowHover",!0)("showCurrentPageReport",!0)}}function _i(r,l){r&1&&(o(0,"div")(1,"div",31),m(2,"p-progressSpinner",32),o(3,"span",33),s(4,"MINEXA S.R.L."),i()()())}var _t=(()=>{let l=class l{constructor(e,t,a){this.cotizacionService=e,this.messageService=t,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.cotizacionService.index().subscribe({next:e=>{this.cotizaciones=e.cotizaciones,console.log("RESPONSE->index",e)},error:e=>{this.cotizaciones=[],this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->index Error en:",e.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(e){this.dialog.showEdit(e)}showDelete(e){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",e),this.cotizacionService.destroy(e).subscribe({next:t=>{this.cotizaciones=this.cotizaciones.filter(a=>a.id!==e),this.messageService.add({severity:"success",summary:"RESPONSE",detail:t.msg,life:3e3}),console.log("RESPONSE->destroy",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->destroy Error en:",t.error)}})}})}showReport(e){alert("showReport"+e)}exportXLS(){alert("exportXLS")}};l.\u0275fac=function(t){return new(t||l)(v(Ae),v(w),v(A))},l.\u0275cmp=R({type:l,selectors:[["app-index-cotizacion"]],viewQuery:function(t,a){if(t&1&&ne(Ze,5),t&2){let y;re(y=ae())&&(a.dialog=y.first)}},standalone:!0,features:[me([w,A]),M],decls:11,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changeCotizacion"],[1,"card-body","shadow-5"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id","style1","width:10%",1,"text-center"],["field","id"],["pSortableColumn","fecha",2,"width","30%"],["field","fecha"],["pSortableColumn","observacion",2,"width","40%"],["field","observacion"],[2,"width","20%"],[1,"flex","justify-content-center"],[1,"text-center",2,"padding","10px","border","2px solid #dcdcdc","border-radius","50%","width","60px","height","60px"],[1,"pi","pi-briefcase",2,"font-size","30px"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(t,a){t&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n de Cotizaciones Diarias"),i()(),m(3,"hr"),f(4,ui,7,11,"div",2),m(5,"hr"),o(6,"div",3)(7,"app-dialog-cotizacion",4),g("changeCotizacion",function(){return a.show()}),i(),m(8,"p-confirmDialog")(9,"p-toast"),i(),f(10,_i,5,0,"div",2)),t&2&&(c(4),d("ngIf",!a.loading),c(4),b(h(4,ai)),c(2),d("ngIf",a.loading))},dependencies:[G,W,j,X,P,he,xe,F,N,L,fe,te,ve,O,D,k,z,V,Ze]});let r=l;return r})();var Be=(()=>{let l=class l{constructor(e){this.httpClient=e,this.url="http://127.0.0.1:8000/api/codificador/entorno/legal/deduccion/"}index(){return this.httpClient.get(this.url+"index")}store(e){return this.httpClient.post(this.url+"store",e)}edit(e){return this.httpClient.get(this.url+"edit/"+e)}update(e){return this.httpClient.put(this.url+"update",e)}destroy(e){return this.httpClient.delete(this.url+"destroy/"+e)}};l.\u0275fac=function(t){return new(t||l)(se(_e))},l.\u0275prov=ce({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();var gi=()=>({width:"75vw"});function fi(r,l){r&1&&(o(0,"small",20),s(1,"Requerido, Alfanum\xE9rico de 1-20."),i())}function vi(r,l){r&1&&(o(0,"small",20),s(1,"Requerido, Alfanum\xE9rico de 1-200."),i())}function hi(r,l){r&1&&(o(0,"small",20),s(1,"Requerido, Num\xE9rico."),i())}function xi(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6),m(4,"i",7),i(),o(5,"div",8)(6,"div",9)(7,"label",10),s(8,"C\xF3digo"),i(),o(9,"input",11),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.deduccion.codigo,t)||(a.deduccion.codigo=t),_(t)}),i(),f(10,fi,2,0,"small",12),i(),o(11,"div",9)(12,"label",13),s(13,"Concepto"),i(),o(14,"textarea",14),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.deduccion.concepto,t)||(a.deduccion.concepto=t),_(t)}),i(),f(15,vi,2,0,"small",12),i(),o(16,"div",15)(17,"div",16)(18,"label",17),s(19,"Porcentaje (%) :"),i()(),o(20,"div",18)(21,"input",19),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.deduccion.porcentaje,t)||(a.deduccion.porcentaje=t),_(t)}),i(),f(22,hi,2,0,"small",12),i()()()()(),m(23,"hr"),o(24,"div")(25,"p")(26,"b"),s(27,"USUARIO: "),i(),s(28),m(29,"br"),o(30,"b"),s(31,"FECHA: "),i(),s(32),U(33,"date"),o(34,"b"),s(35,"HORA: "),i(),s(36),U(37,"date"),i()()()}if(r&2){let n=p(2);c(9),x("ngModel",n.deduccion.codigo),c(),d("ngIf",!n.valCodigo()),c(4),x("ngModel",n.deduccion.concepto),c(),d("ngIf",!n.valConcepto()),c(6),x("ngModel",n.deduccion.porcentaje),c(),d("ngIf",!n.valPorcentaje()),c(6),pe(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),c(4),I(" ",H(33,11,n.fechaHora,"dd/MM/yyyy")," "),c(4),I(" ",H(37,14,n.fechaHora,"HH:mm:ss")," ")}}function Ci(r,l){r&1&&(o(0,"div")(1,"div",21),m(2,"p-progressSpinner",22),o(3,"span",23),s(4,"Cargando..."),i()()())}function Si(r,l){if(r&1&&(m(0,"hr"),f(1,xi,38,17,"div",3)(2,Ci,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(),d("ngIf",n.loading)}}function Ei(r,l){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),m(3,"span",28),i())}function wi(r,l){if(r&1){let n=E();o(0,"div",24)(1,"div",25),f(2,Ei,4,0,"div",3),i(),o(3,"div",18)(4,"p-button",26),g("click",function(){u(n);let t=p();return _(t.save())}),i(),o(5,"p-button",27),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()()}if(r&2){let n=p();c(2),d("ngIf",n.saving),c(2),d("text",!0)("raised",!0)("hidden",n.saving),c(),d("text",!0)("raised",!0)}}var Je=(()=>{let l=class l{constructor(e,t,a){this.principalService=e,this.messageService=t,this.deduccionService=a,this.changeDeduccion=new q}showCreate(){this.estado=!0,this.saving=!1,this.deduccion={codigo:"",concepto:"",porcentaje:""},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj()}showEdit(e){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->edit",e),this.deduccionService.edit(e).subscribe({next:t=>{this.deduccion=t.deduccion,this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->edit Error en:",t.error)},complete:()=>{this.loading=!1}})}save(){this.validate()?(this.saving=!0,this.deduccion.id?(console.log("REQUEST->update",this.deduccion),this.deduccionService.update(this.deduccion).subscribe({next:e=>{this.deduccion=e.deduccion,this.changeDeduccion.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->update",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->update Error en:",e.error)}})):(console.log("REQUEST->store",this.deduccion),this.deduccionService.store(this.deduccion).subscribe({next:e=>{this.deduccion=e.deduccion,this.changeDeduccion.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->store",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->store Error en:",e.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valCodigo(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,20}$/.test(this.deduccion.codigo)}valConcepto(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,200}$/.test(this.deduccion.concepto)}valPorcentaje(){return!!/^[\d.]{1,10}$/.test(this.deduccion.porcentaje)}validate(){return this.deduccion?this.valCodigo()&&this.valConcepto()&&this.valPorcentaje():"Deducci\xF3n Vacio.false"}};l.\u0275fac=function(t){return new(t||l)(v(le),v(w),v(Be))},l.\u0275cmp=R({type:l,selectors:[["app-dialog-deduccion"]],outputs:{changeDeduccion:"changeDeduccion"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE DEDUCCIONES","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"card","shadow-3"],[1,"grid"],[1,"col-12","md:col-4","pr-5","text-center"],[1,"pi","pi-percentage","pt-5",2,"font-size","120px"],[1,"col-12","md:col-8","pr-5"],[1,"field"],["for","codigo"],["type","text","pInputText","","id","codigo",1,"w-full",3,"ngModelChange","ngModel"],["class","p-error",4,"ngIf"],["for","concepto"],["pInputTextarea","","id","concepto","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","pt-2"],[1,"col-6","text-right","pt-3"],["for","porcentaje"],[1,"col-6"],["type","number","pInputText","","id","porcentaje","step",".01",1,"w-full",3,"ngModelChange","ngModel"],[1,"p-error"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,Si,3,2,"ng-template",1)(2,wi,6,6,"ng-template",2),i()),t&2&&(b(h(4,gi)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Le,P,j,O,D,ue,oe,ie,V,K,Te,Z,J,F,N,k,z,ee,$,L]});let r=l;return r})();var yi=()=>({width:"450px"}),bi=()=>[10,25,50],Ii=()=>["id","codigo","concepto","porcentaje"],Ti=()=>({"min-width":"75rem"});function Ri(r,l){if(r&1){let n=E();o(0,"div",10)(1,"div",11)(2,"p-button",12),g("click",function(){u(n);let t=p(2);return _(t.showCreate())}),i(),o(3,"p-button",13),g("click",function(){u(n);let t=p(2);return _(t.exportXLS())}),i()(),o(4,"div",14)(5,"span",15),m(6,"i",16),o(7,"input",17),g("input",function(t){u(n),p();let a=de(3);return _(a.filterGlobal(t.target.value,"contains"))}),i()()()()}r&2&&(c(2),d("outlined",!0)("raised",!0),c(),d("outlined",!0)("raised",!0)("text",!0))}function Mi(r,l){r&1&&(o(0,"tr")(1,"th",18),s(2," FOTO "),m(3,"p-sortIcon",19),i(),o(4,"th",20),s(5," CODIGO "),m(6,"p-sortIcon",21),i(),o(7,"th",22),s(8," CONCEPTO "),m(9,"p-sortIcon",21),i(),o(10,"th",23),s(11," PORCENTAJE "),m(12,"p-sortIcon",24),i(),o(13,"th",25),s(14," OPCIONES "),i()())}function Di(r,l){if(r&1){let n=E();o(0,"tr")(1,"td",26)(2,"div",27),m(3,"i",28),i()(),o(4,"td"),s(5),i(),o(6,"td"),s(7),i(),o(8,"td"),s(9),i(),o(10,"td")(11,"p-button",29),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showReport(t.id))}),i(),o(12,"p-button",30),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showEdit(t.id))}),i(),o(13,"p-button",31),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDelete(t.id))}),i()()()}if(r&2){let n=l.$implicit;c(5),B(n.codigo),c(2),B(n.concepto),c(2),I("",n.porcentaje," %"),c(2),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0)}}function Oi(r,l){if(r&1&&(o(0,"div")(1,"div",5)(2,"p-table",6,0),f(4,Ri,8,5,"ng-template",7)(5,Mi,15,0,"ng-template",8)(6,Di,14,9,"ng-template",9),i()()()),r&2){let n=p();c(2),d("value",n.deducciones)("rows",10)("rowsPerPageOptions",h(8,bi))("paginator",!0)("globalFilterFields",h(9,Ii))("tableStyle",h(10,Ti))("rowHover",!0)("showCurrentPageReport",!0)}}function Vi(r,l){r&1&&(o(0,"div")(1,"div",32),m(2,"p-progressSpinner",33),o(3,"span",34),s(4,"MINEXA S.R.L."),i()()())}var ft=(()=>{let l=class l{constructor(e,t,a){this.deduccionService=e,this.messageService=t,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.deduccionService.index().subscribe({next:e=>{this.deducciones=e.deducciones,console.log("RESPONSE->index",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->index Error en:",e.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(e){this.dialog.showEdit(e)}showDelete(e){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",e),this.deduccionService.destroy(e).subscribe({next:t=>{this.deducciones=this.deducciones.filter(a=>a.id!==e),this.messageService.add({severity:"success",summary:"RESPONSE",detail:t.msg,life:3e3}),console.log("RESPONSE->destroy",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->destroy Error en:",t.error)}})}})}showReport(e){alert("showReport"+e)}exportXLS(){alert("exportXLS")}};l.\u0275fac=function(t){return new(t||l)(v(Be),v(w),v(A))},l.\u0275cmp=R({type:l,selectors:[["app-index-deduccion"]],viewQuery:function(t,a){if(t&1&&ne(Je,5),t&2){let y;re(y=ae())&&(a.dialog=y.first)}},standalone:!0,features:[me([w,A]),M],decls:11,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changeDeduccion"],[1,"card-body","shadow-5"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id",1,"text-center",2,"width","10%"],["field","id"],["pSortableColumn","nombre",2,"width","20%"],["field","nombre"],["pSortableColumn","nombre",2,"width","30%"],["pSortableColumn","descripcion",2,"width","20%"],["field","descripcion"],[2,"width","20%"],[1,"flex","justify-content-center"],[1,"text-center",2,"padding","10px","border","2px solid #dcdcdc","border-radius","50%","width","60px","height","60px"],[1,"pi","pi-percentage",2,"font-size","30px"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(t,a){t&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n de Deducciones"),i()(),m(3,"hr"),f(4,Oi,7,11,"div",2),m(5,"hr"),o(6,"div",3)(7,"app-dialog-deduccion",4),g("changeDeduccion",function(){return a.show()}),i(),m(8,"p-confirmDialog")(9,"p-toast"),i(),f(10,Vi,5,0,"div",2)),t&2&&(c(4),d("ngIf",!a.loading),c(4),b(h(4,yi)),c(2),d("ngIf",a.loading))},dependencies:[G,W,j,X,P,he,xe,F,N,L,fe,te,ve,O,D,k,z,V,Je]});let r=l;return r})();var Ue=(()=>{let l=class l{constructor(e){this.httpClient=e,this.url="http://127.0.0.1:8000/api/codificador/entorno/laboratorio/"}index(){return this.httpClient.get(this.url+"index")}create(){return this.httpClient.get(this.url+"create")}store(e){return this.httpClient.post(this.url+"store",e)}edit(e){return this.httpClient.get(this.url+"edit/"+e)}update(e){return this.httpClient.put(this.url+"update",e)}destroy(e){return this.httpClient.delete(this.url+"destroy/"+e)}};l.\u0275fac=function(t){return new(t||l)(se(_e))},l.\u0275prov=ce({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();var Pi=()=>({width:"75vw"});function Ni(r,l){r&1&&(o(0,"small",27),s(1,"Requerido."),i())}function Fi(r,l){r&1&&(o(0,"small",27),s(1,"Requerido, Alfanum\xE9rico de 1-20."),i())}function zi(r,l){r&1&&(o(0,"small",27),s(1,"Requerido, Alfanum\xE9rico de 1-50."),i())}function ki(r,l){r&1&&(o(0,"small",27),s(1,"Opcional, Alfanum\xE9rico de 0-200."),i())}function Li(r,l){r&1&&(o(0,"small",27),s(1,"Opcional, Num\xE9rico de 0-10."),i())}function ji(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"label"),s(6,"Regional:"),i()(),o(7,"div",8)(8,"p-dropdown",9),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.laboratorio.idRegional,t)||(a.laboratorio.idRegional=t),_(t)}),i(),f(9,Ni,2,0,"small",10),i()()()(),m(10,"hr"),o(11,"div",11)(12,"div",12)(13,"div",13),m(14,"i",14),i(),o(15,"div",15)(16,"div",16)(17,"label",17),s(18,"C\xF3digo"),i(),o(19,"input",18),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.laboratorio.codigo,t)||(a.laboratorio.codigo=t),_(t)}),i(),f(20,Fi,2,0,"small",10),i(),o(21,"div",16)(22,"label",19),s(23,"Nombre"),i(),o(24,"input",20),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.laboratorio.nombre,t)||(a.laboratorio.nombre=t),_(t)}),i(),f(25,zi,2,0,"small",10),i(),o(26,"div",16)(27,"label",21),s(28,"Description"),i(),o(29,"textarea",22),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.laboratorio.descripcion,t)||(a.laboratorio.descripcion=t),_(t)}),i(),f(30,ki,2,0,"small",10),i(),o(31,"div",23)(32,"div",24)(33,"label",25),s(34,"Tel\xE9fono :"),i()(),o(35,"div",8)(36,"input",26),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.laboratorio.fono,t)||(a.laboratorio.fono=t),_(t)}),i(),f(37,Li,2,0,"small",10),i()()()()(),m(38,"hr"),o(39,"div")(40,"p")(41,"b"),s(42,"USUARIO: "),i(),s(43),m(44,"br"),o(45,"b"),s(46,"FECHA: "),i(),s(47),U(48,"date"),o(49,"b"),s(50,"HORA: "),i(),s(51),U(52,"date"),i()()()}if(r&2){let n=p(2);c(8),d("options",n.regionales),x("ngModel",n.laboratorio.idRegional),c(),d("ngIf",!n.valIdRegional()),c(10),x("ngModel",n.laboratorio.codigo),c(),d("ngIf",!n.valCodigo()),c(4),x("ngModel",n.laboratorio.nombre),c(),d("ngIf",!n.valNombre()),c(4),x("ngModel",n.laboratorio.descripcion),c(),d("ngIf",!n.valDescripcion()),c(6),x("ngModel",n.laboratorio.fono),c(),d("ngIf",!n.valFono()),c(6),pe(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),c(4),I(" ",H(48,16,n.fechaHora,"dd/MM/yyyy")," "),c(4),I(" ",H(52,19,n.fechaHora,"HH:mm:ss")," ")}}function Wi(r,l){r&1&&(o(0,"div")(1,"div",28),m(2,"p-progressSpinner",29),o(3,"span",30),s(4,"Cargando..."),i()()())}function Gi(r,l){if(r&1&&(m(0,"hr"),f(1,ji,53,22,"div",3)(2,Wi,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(),d("ngIf",n.loading)}}function Ai(r,l){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),m(3,"span",35),i())}function Bi(r,l){if(r&1){let n=E();o(0,"div",31)(1,"div",32),f(2,Ai,4,0,"div",3),i(),o(3,"div",8)(4,"p-button",33),g("click",function(){u(n);let t=p();return _(t.save())}),i(),o(5,"p-button",34),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()()}if(r&2){let n=p();c(2),d("ngIf",n.saving),c(2),d("text",!0)("raised",!0)("hidden",n.saving),c(),d("text",!0)("raised",!0)}}var Ye=(()=>{let l=class l{constructor(e,t,a){this.principalService=e,this.messageService=t,this.laboratorioService=a,this.changeLaboratorio=new q}showCreate(){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->create"),this.laboratorioService.create().subscribe({next:e=>{this.regionales=e.regionales,this.laboratorio={codigo:"",nombre:"",descripcion:"",fono:""},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->edit Error en:",e.error)},complete:()=>{this.loading=!1}})}showEdit(e){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->edit",e),this.laboratorioService.edit(e).subscribe({next:t=>{this.regionales=t.regionales,this.laboratorio=t.laboratorio,this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->edit Error en:",t.error)},complete:()=>{this.loading=!1}})}save(){this.validate()?(this.saving=!0,this.laboratorio.id?(console.log("REQUEST->update",this.laboratorio),this.laboratorioService.update(this.laboratorio).subscribe({next:e=>{this.laboratorio=e.laboratorio,this.changeLaboratorio.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->update",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->update Error en:",e.error)}})):(console.log("REQUEST->store",this.laboratorio),this.laboratorioService.store(this.laboratorio).subscribe({next:e=>{this.laboratorio=e.laboratorio,this.changeLaboratorio.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->store",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->store Error en:",e.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valIdRegional(){return!!this.laboratorio.idRegional}valCodigo(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,20}$/.test(this.laboratorio.codigo)}valNombre(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,50}$/.test(this.laboratorio.nombre)}valDescripcion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.laboratorio.descripcion)}valFono(){return!!/^[\d +-]{0,20}$/.test(this.laboratorio.fono||"")}validate(){return this.laboratorio?this.valCodigo()&&this.valNombre()&&this.valDescripcion()&&this.valCodigo():"Cliente Vacio.false"}};l.\u0275fac=function(t){return new(t||l)(v(le),v(w),v(Ue))},l.\u0275cmp=R({type:l,selectors:[["app-dialog-laboratorio"]],outputs:{changeLaboratorio:"changeLaboratorio"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE LABORATORIO","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],[1,"col-6"],["id","idRegional","optionValue","id","optionLabel","nombre",3,"ngModelChange","options","ngModel"],["class","p-error",4,"ngIf"],[1,"card","shadow-3"],[1,"grid"],[1,"col-12","md:col-4","text-center","pt-5"],[1,"pi","pi-users",2,"font-size","160px"],[1,"col-12","md:col-8","pr-5"],[1,"field"],["for","codigo"],["type","text","pInputText","","id","codigo",1,"w-full",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","pInputText","","id","nombre",1,"w-full",3,"ngModelChange","ngModel"],["for","descripcion"],["pInputTextarea","","id","descripcion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","pt-2"],[1,"col-6","text-right","pt-3"],["for","porcentaje"],["type","text","pInputText","","id","fono",1,"w-full",3,"ngModelChange","ngModel"],[1,"p-error"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,Gi,3,2,"ng-template",1)(2,Bi,6,6,"ng-template",2),i()),t&2&&(b(h(4,Pi)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Y,ge,P,Ce,j,O,D,ue,oe,ie,V,K,Z,J,F,N,k,z,ee,$,L]});let r=l;return r})();var Ui=()=>({width:"450px"}),Hi=()=>({width:"100%"}),Qi=()=>[10,25,50],Xi=()=>["id","codigo","nombre","descripcion","fono"],qi=()=>({"min-width":"75rem"});function Ki(r,l){if(r&1){let n=E();o(0,"div",17)(1,"div",18)(2,"p-button",19),g("click",function(){u(n);let t=p(2);return _(t.showCreate())}),i(),o(3,"p-button",20),g("click",function(){u(n);let t=p(2);return _(t.exportXLS())}),i()(),o(4,"div",21)(5,"span",22),m(6,"i",23),o(7,"input",24),g("input",function(t){u(n),p();let a=de(12);return _(a.filterGlobal(t.target.value,"contains"))}),i()()()()}r&2&&(c(2),d("outlined",!0)("raised",!0),c(),d("outlined",!0)("raised",!0)("text",!0))}function Zi(r,l){r&1&&(o(0,"tr")(1,"th",25),s(2," FOTO "),m(3,"p-sortIcon",26),i(),o(4,"th",27),s(5," CODIGO "),m(6,"p-sortIcon",28),i(),o(7,"th",29),s(8," NOMBRE "),m(9,"p-sortIcon",30),i(),o(10,"th",31),s(11," TEL\xC9FONO "),m(12,"p-sortIcon",32),i(),o(13,"th",33),s(14," OPCIONES "),i()())}function Ji(r,l){if(r&1){let n=E();o(0,"tr")(1,"td",34)(2,"div",35),m(3,"i",36),i()(),o(4,"td"),s(5),i(),o(6,"td"),s(7),i(),o(8,"td"),s(9),i(),o(10,"td")(11,"p-button",37),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showReport(t.id))}),i(),o(12,"p-button",38),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showEdit(t.id))}),i(),o(13,"p-button",39),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDelete(t.id))}),i()()()}if(r&2){let n=l.$implicit;c(5),B(n.codigo),c(2),B(n.nombre),c(2),B(n.fono),c(2),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0)}}function Yi(r,l){if(r&1){let n=E();o(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",10),s(7,"Regional:"),i()(),o(8,"div",11)(9,"p-dropdown",12),g("onChange",function(t){u(n);let a=p();return _(a.filter(t.value))})("onClear",function(){u(n);let t=p();return _(t.clearFilter())}),i()()()()(),m(10,"hr"),o(11,"p-table",13,0),f(13,Ki,8,5,"ng-template",14)(14,Zi,15,0,"ng-template",15)(15,Ji,14,9,"ng-template",16),i()()()}if(r&2){let n=p();c(9),b(h(12,Hi)),d("options",n.regionales)("showClear",!0),c(2),d("value",n.laboratorios)("rows",10)("rowsPerPageOptions",h(13,Qi))("paginator",!0)("globalFilterFields",h(14,Xi))("tableStyle",h(15,qi))("rowHover",!0)("showCurrentPageReport",!0)}}function $i(r,l){r&1&&(o(0,"div")(1,"div",40),m(2,"p-progressSpinner",41),o(3,"span",42),s(4,"MINEXA S.R.L."),i()()())}var ht=(()=>{let l=class l{constructor(e,t,a){this.laboratorioService=e,this.messageService=t,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.laboratorioService.index().subscribe({next:e=>{this.regionales=e.regionales,this.laboratorios=e.laboratorios,this.data=e.laboratorios,console.log("RESPONSE->create",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->index Error en:",e.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(e){this.dialog.showEdit(e)}showDelete(e){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",e),this.laboratorioService.destroy(e).subscribe({next:t=>{this.laboratorios=this.laboratorios.filter(a=>a.id!==e),this.messageService.add({severity:"success",summary:"RESPONSE",detail:t.msg,life:3e3}),console.log("RESPONSE->destroy",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->destroy Error en:",t.error)}})}})}showReport(e){alert("showReport"+e)}exportXLS(){alert("exportXLS")}filter(e){this.laboratorios=this.data.filter(t=>t.idRegional==e)}clearFilter(){this.laboratorios=this.data}};l.\u0275fac=function(t){return new(t||l)(v(Ue),v(w),v(A))},l.\u0275cmp=R({type:l,selectors:[["app-index-laboratorio"]],viewQuery:function(t,a){if(t&1&&ne(Ye,5),t&2){let y;re(y=ae())&&(a.dialog=y.first)}},standalone:!0,features:[me([w,A]),M],decls:11,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changeLaboratorio"],[1,"card-body","shadow-5"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],["for","regional"],[1,"col-6"],["id","regional","optionValue","id","optionLabel","nombre","placeholder","TODOS",3,"onChange","onClear","options","showClear"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id",1,"text-center",2,"width","10%"],["field","id"],["pSortableColumn","codigo",2,"width","20%"],["field","codigo"],["pSortableColumn","nombre",2,"width","30%"],["field","nombre"],["pSortableColumn","fono",2,"width","20%"],["field","fono"],[2,"width","20%"],[1,"flex","justify-content-center"],[1,"text-center",2,"padding","10px","border","2px solid #dcdcdc","border-radius","50%","width","60px","height","60px"],[1,"pi","pi-users",2,"font-size","30px"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(t,a){t&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n de Laboratorios"),i()(),m(3,"hr"),f(4,Yi,16,16,"div",2),m(5,"hr"),o(6,"div",3)(7,"app-dialog-laboratorio",4),g("changeLaboratorio",function(){return a.show()}),i(),m(8,"p-confirmDialog")(9,"p-toast"),i(),f(10,$i,5,0,"div",2)),t&2&&(c(4),d("ngIf",!a.loading),c(4),b(h(4,Ui)),c(2),d("ngIf",a.loading))},dependencies:[G,W,j,X,P,he,xe,Y,ge,F,N,L,fe,te,ve,O,D,k,z,V,Ye]});let r=l;return r})();var He=(()=>{let l=class l{constructor(e){this.httpClient=e,this.url="http://127.0.0.1:8000/api/codificador/entorno/legal/cotizacion15/"}index(){return this.httpClient.get(this.url+"index")}create(){return this.httpClient.get(this.url+"create")}store(e){return this.httpClient.post(this.url+"store",e)}edit(e){return this.httpClient.get(this.url+"edit/"+e)}update(e){return this.httpClient.put(this.url+"update",e)}destroy(e){return this.httpClient.delete(this.url+"destroy/"+e)}};l.\u0275fac=function(t){return new(t||l)(se(_e))},l.\u0275prov=ce({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();var eo=()=>({width:"75vw"}),to=()=>({width:"100%"});function io(r,l){r&1&&(o(0,"small",21),s(1,"Requerido, tipo Fecha."),i())}function oo(r,l){r&1&&(o(0,"small",21),s(1,"Opcional, Alfanum\xE9rico de 0-200."),i())}function no(r,l){r&1&&(o(0,"tr")(1,"th",22),s(2,"MINERAL"),i(),o(3,"th",22),s(4,"COTIZACI\xD3N"),i(),o(5,"th",22),s(6,"REGALIA"),i(),o(7,"th",22),s(8,"UNIDAD MEDIDA"),i()())}function ro(r,l){if(r&1){let n=E();o(0,"tr")(1,"td"),s(2),i(),o(3,"td")(4,"input",23),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.id,t)||(a.id=t),_(t)}),i(),o(5,"input",24),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.valorCotizacion,t)||(a.valorCotizacion=t),_(t)}),i()(),o(6,"td")(7,"input",24),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.valorRegalia,t)||(a.valorRegalia=t),_(t)}),i()(),o(8,"td")(9,"p-dropdown",25),S("ngModelChange",function(t){let a=u(n).$implicit;return C(a.idUnidadMedida,t)||(a.idUnidadMedida=t),_(t)}),i()()()}if(r&2){let n=l.$implicit,e=p(3);c(2),We(" ",n.nombre," (",n.abreviatura,") "),c(2),x("ngModel",n.id),c(),x("ngModel",n.valorCotizacion),c(2),x("ngModel",n.valorRegalia),c(2),d("options",e.unidadMedidas),x("ngModel",n.idUnidadMedida),d("appendTo","body")}}function ao(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),m(5,"i",8)(6,"hr")(7,"hr"),i(),o(8,"div",9)(9,"label",10),s(10,"Fecha"),i(),o(11,"input",11),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cotizacion15.fecha,t)||(a.cotizacion15.fecha=t),_(t)}),i(),f(12,io,2,0,"small",12),i(),o(13,"div",9)(14,"label",13),s(15,"Observaciones"),i(),o(16,"textarea",14),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cotizacion15.observacion,t)||(a.cotizacion15.observacion=t),_(t)}),i(),f(17,oo,2,0,"small",12),i()()(),o(18,"div",15)(19,"div",6)(20,"p-tabView",16),S("activeIndexChange",function(t){u(n);let a=p(2);return C(a.activeIndex,t)||(a.activeIndex=t),_(t)}),o(21,"p-tabPanel",17)(22,"h5"),s(23,"Cotizaci\xF3n quincenal de Minerales"),i(),m(24,"hr"),o(25,"p-table",18),f(26,no,9,0,"ng-template",19)(27,ro,10,8,"ng-template",20),i()()()()()(),m(28,"hr"),o(29,"div")(30,"p")(31,"b"),s(32,"USUARIO: "),i(),s(33),m(34,"br"),o(35,"b"),s(36,"FECHA: "),i(),s(37),U(38,"date"),o(39,"b"),s(40,"HORA: "),i(),s(41),U(42,"date"),i()()()}if(r&2){let n=p(2);c(11),x("ngModel",n.cotizacion15.fecha),c(),d("ngIf",!n.valFecha()),c(4),x("ngModel",n.cotizacion15.observacion),c(),d("ngIf",!n.valObservacion()),c(3),x("activeIndex",n.activeIndex),c(5),d("value",n.detalleMinerales)("tableStyle",h(18,to)),c(8),pe(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),c(4),I(" ",H(38,12,n.fechaHora,"dd/MM/yyyy")," "),c(4),I(" ",H(42,15,n.fechaHora,"HH:mm:ss")," ")}}function lo(r,l){r&1&&(o(0,"div")(1,"div",26),m(2,"p-progressSpinner",27),o(3,"span",28),s(4,"Cargando..."),i()()())}function co(r,l){if(r&1&&(m(0,"hr"),f(1,ao,43,19,"div",3)(2,lo,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(),d("ngIf",n.loading)}}function so(r,l){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),m(3,"span",34),i())}function po(r,l){if(r&1){let n=E();o(0,"div",29)(1,"div",30),f(2,so,4,0,"div",3),i(),o(3,"div",31)(4,"p-button",32),g("click",function(){u(n);let t=p();return _(t.save())}),i(),o(5,"p-button",33),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()()}if(r&2){let n=p();c(2),d("ngIf",n.saving),c(2),d("text",!0)("raised",!0)("hidden",n.saving),c(),d("text",!0)("raised",!0)}}var $e=(()=>{let l=class l{constructor(e,t,a){this.principalService=e,this.messageService=t,this.cotizacion15Service=a,this.changeCotizacion15=new q}showCreate(){this.estado=!0,this.loading=!0,this.saving=!1,this.activeIndex=0,console.log("REQUEST->create"),this.cotizacion15Service.create().subscribe({next:e=>{this.detalleMinerales=e.minerales.map(t=>({abreviatura:t.abreviatura,nombre:t.nombre,idUnidadMedida:null,idMineral:t.id,cotizacion15:t.cotizacion15??"",valorCotizacion:null,valorRegalia:null})),this.unidadMedidas=e.unidadMedidas,this.cotizacion15={fecha:"",observacion:"",cotizacionmineral:[]},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->create",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->create Error en:",e.error)},complete:()=>{this.loading=!1}})}showEdit(e){this.estado=!0,this.loading=!0,this.saving=!1,this.activeIndex=0,console.log("REQUEST->edit",e),this.cotizacion15Service.edit(e).subscribe({next:t=>{this.minerales=t.minerales,this.unidadMedidas=t.unidadMedidas,this.cotizacion15=t.cotizacion15,this.updateDetalles(),this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->edit Error en:",t.error)},complete:()=>{this.loading=!1}})}save(){this.prepareData(),this.validate()?(this.saving=!0,this.cotizacion15.id?(console.log("REQUEST->update",this.cotizacion15),this.cotizacion15Service.update(this.cotizacion15).subscribe({next:e=>{this.cotizacion15=e.cotizacion,this.changeCotizacion15.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->update",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->update Error en:",e.error)}})):(console.log("REQUEST->store",this.cotizacion15),this.cotizacion15Service.store(this.cotizacion15).subscribe({next:e=>{this.cotizacion15=e.cotizacion15,this.changeCotizacion15.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->store",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->store Error en:",e.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}prepareData(){this.cotizacion15.cotizacionmineral=this.detalleMinerales.map(e=>({idUnidadMedida:e.idUnidadMedida,idMineral:e.idMineral,valorCotizacion:e.valorCotizacion,valorRegalia:e.valorRegalia}))}updateDetalles(){this.detalleMinerales=[],this.minerales.forEach(e=>{this.cotizacion15.cotizacionmineral.forEach(t=>{e.id==t.idMineral&&this.detalleMinerales.push({abreviatura:e.abreviatura,nombre:e.nombre,cotizacion15:e.cotizacion15,idUnidadMedida:t.idUnidadMedida,idMineral:t.idMineral,valorCotizacion:t.valorCotizacion,valorRegalia:t.valorRegalia})})})}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valFecha(){return!!/^[\d/-]{1,10}$/.test(this.cotizacion15.fecha)}valObservacion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.cotizacion15.observacion)}validate(){return this.cotizacion15?this.valFecha()&&this.valObservacion():"Cotizacion Vacia.false"}};l.\u0275fac=function(t){return new(t||l)(v(le),v(w),v(He))},l.\u0275cmp=R({type:l,selectors:[["app-dialog-cotizacion15"]],outputs:{changeCotizacion15:"changeCotizacion15"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE COTIZACI\xD3N QUINCENAL","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid"],[1,"col-12","sm:col-4"],[1,"card","shadow-3",2,"min-height","450px"],[1,"text-center"],[1,"pi","pi-briefcase",2,"font-size","120px"],[1,"field"],["for","fecha"],["type","date","pInputText","","id","fecha",1,"w-full",3,"ngModelChange","ngModel"],["class","p-error",4,"ngIf"],["for","observacion"],["pInputTextarea","","id","observacion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"col-12","sm:col-8"],[3,"activeIndexChange","activeIndex"],["header","MINERALES"],["dataKey","id",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[1,"p-error"],[2,"width","25%"],["type","hidden","pInputText","",3,"ngModelChange","ngModel"],["type","number","pInputText","",3,"ngModelChange","ngModel"],["id","idUnidadMedida","optionValue","id","optionLabel","abreviatura",3,"ngModelChange","options","ngModel","appendTo"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],[1,"col-6"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,co,3,2,"ng-template",1)(2,po,6,6,"ng-template",2),i()),t&2&&(b(h(4,eo)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Ce,ke,ze,P,j,X,Y,ge,O,D,ue,oe,ie,V,K,Te,Z,J,F,N,k,z,ee,$,L]});let r=l;return r})();var mo=()=>({width:"450px"}),uo=()=>[10,25,50],_o=()=>["id","fecha","observacion"],go=()=>({"min-width":"75rem"});function fo(r,l){if(r&1){let n=E();o(0,"div",10)(1,"div",11)(2,"p-button",12),g("click",function(){u(n);let t=p(2);return _(t.showCreate())}),i(),o(3,"p-button",13),g("click",function(){u(n);let t=p(2);return _(t.exportXLS())}),i()(),o(4,"div",14)(5,"span",15),m(6,"i",16),o(7,"input",17),g("input",function(t){u(n),p();let a=de(3);return _(a.filterGlobal(t.target.value,"contains"))}),i()()()()}r&2&&(c(2),d("outlined",!0)("raised",!0),c(),d("outlined",!0)("raised",!0)("text",!0))}function vo(r,l){r&1&&(o(0,"tr")(1,"th",18),s(2," FOTO "),m(3,"p-sortIcon",19),i(),o(4,"th",20),s(5," FECHA "),m(6,"p-sortIcon",21),i(),o(7,"th",22),s(8," OBSERVACIONES "),m(9,"p-sortIcon",23),i(),o(10,"th",24),s(11," OPCIONES "),i()())}function ho(r,l){if(r&1){let n=E();o(0,"tr")(1,"td",25)(2,"div",26),m(3,"i",27),i()(),o(4,"td"),s(5),i(),o(6,"td"),s(7),i(),o(8,"td")(9,"p-button",28),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showReport(t.id))}),i(),o(10,"p-button",29),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showEdit(t.id))}),i(),o(11,"p-button",30),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDelete(t.id))}),i()()()}if(r&2){let n=l.$implicit;c(5),B(n.fecha),c(2),B(n.observacion),c(2),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0)}}function xo(r,l){if(r&1&&(o(0,"div")(1,"div",5)(2,"p-table",6,0),f(4,fo,8,5,"ng-template",7)(5,vo,12,0,"ng-template",8)(6,ho,12,8,"ng-template",9),i()()()),r&2){let n=p();c(2),d("value",n.cotizaciones15)("rows",10)("rowsPerPageOptions",h(8,uo))("paginator",!0)("globalFilterFields",h(9,_o))("tableStyle",h(10,go))("rowHover",!0)("showCurrentPageReport",!0)}}function Co(r,l){r&1&&(o(0,"div")(1,"div",31),m(2,"p-progressSpinner",32),o(3,"span",33),s(4,"MINEXA S.R.L."),i()()())}var Ct=(()=>{let l=class l{constructor(e,t,a){this.cotizacion15Service=e,this.messageService=t,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.cotizacion15Service.index().subscribe({next:e=>{this.cotizaciones15=e.cotizaciones15,console.log("RESPONSE->index",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->index Error en:",e.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(e){this.dialog.showEdit(e)}showDelete(e){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",e),this.cotizacion15Service.destroy(e).subscribe({next:t=>{this.cotizaciones15=this.cotizaciones15.filter(a=>a.id!==e),this.messageService.add({severity:"success",summary:"RESPONSE",detail:t.msg,life:3e3}),console.log("RESPONSE->destroy",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->destroy Error en:",t.error)}})}})}showReport(e){alert("showReport"+e)}exportXLS(){alert("exportXLS")}};l.\u0275fac=function(t){return new(t||l)(v(He),v(w),v(A))},l.\u0275cmp=R({type:l,selectors:[["app-index-cotizacion15"]],viewQuery:function(t,a){if(t&1&&ne($e,5),t&2){let y;re(y=ae())&&(a.dialog=y.first)}},standalone:!0,features:[me([w,A]),M],decls:11,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changeCotizacion15"],[1,"card-body","shadow-5"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id","style1","width:10%",1,"text-center"],["field","id"],["pSortableColumn","fecha",2,"width","30%"],["field","fecha"],["pSortableColumn","observacion",2,"width","40%"],["field","observacion"],[2,"width","20%"],[1,"flex","justify-content-center"],[1,"text-center",2,"padding","10px","border","2px solid #dcdcdc","border-radius","50%","width","60px","height","60px"],[1,"pi","pi-briefcase",2,"font-size","30px"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(t,a){t&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n de Cotizaciones Quincenales"),i()(),m(3,"hr"),f(4,xo,7,11,"div",2),m(5,"hr"),o(6,"div",3)(7,"app-dialog-cotizacion15",4),g("changeCotizacion15",function(){return a.show()}),i(),m(8,"p-confirmDialog")(9,"p-toast"),i(),f(10,Co,5,0,"div",2)),t&2&&(c(4),d("ngIf",!a.loading),c(4),b(h(4,mo)),c(2),d("ngIf",a.loading))},dependencies:[G,W,j,X,P,he,xe,F,N,L,fe,te,ve,O,D,k,z,V,$e]});let r=l;return r})();var je=(()=>{let l=class l{constructor(e){this.httpClient=e,this.url="http://127.0.0.1:8000/api/codificador/entorno/cooperativa/"}index(){return this.httpClient.get(this.url+"index")}create(){return this.httpClient.get(this.url+"create")}store(e){return this.httpClient.post(this.url+"store",e)}show(e){return this.httpClient.get(this.url+"show/"+e)}edit(e){return this.httpClient.get(this.url+"edit/"+e)}update(e){return this.httpClient.put(this.url+"update",e)}destroy(e){return this.httpClient.delete(this.url+"destroy/"+e)}};l.\u0275fac=function(t){return new(t||l)(se(_e))},l.\u0275prov=ce({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();var So=()=>({width:"75vw"});function Eo(r,l){r&1&&(o(0,"small",25),s(1,"Requerido."),i())}function wo(r,l){r&1&&(o(0,"small",25),s(1,"Requerido, Alfanum\xE9rico de 1-20."),i())}function yo(r,l){r&1&&(o(0,"small",25),s(1,"Requerido, Alfanum\xE9rico de 1-50."),i())}function bo(r,l){r&1&&(o(0,"small",25),s(1,"Opcional, Alfanum\xE9rico de 0-200."),i())}function Io(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"label"),s(6,"Regional:"),i()(),o(7,"div",8)(8,"p-dropdown",9),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cooperativa.idRegional,t)||(a.cooperativa.idRegional=t),_(t)}),i(),f(9,Eo,2,0,"small",10),i()()()(),m(10,"hr"),o(11,"div",11)(12,"div",12)(13,"div",13),m(14,"i",14),i(),o(15,"div",15)(16,"div",16)(17,"label",17),s(18,"C\xF3digo"),i(),o(19,"input",18),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cooperativa.codigo,t)||(a.cooperativa.codigo=t),_(t)}),i(),f(20,wo,2,0,"small",10),i(),o(21,"div",19)(22,"label",20),s(23,"Nombre"),i(),o(24,"input",21),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cooperativa.nombre,t)||(a.cooperativa.nombre=t),_(t)}),i(),f(25,yo,2,0,"small",10),i(),o(26,"div",22)(27,"label",23),s(28,"Description"),i(),o(29,"textarea",24),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cooperativa.descripcion,t)||(a.cooperativa.descripcion=t),_(t)}),i(),f(30,bo,2,0,"small",10),i()()()(),m(31,"hr"),o(32,"div")(33,"p")(34,"b"),s(35,"USUARIO: "),i(),s(36),m(37,"br"),o(38,"b"),s(39,"FECHA: "),i(),s(40),U(41,"date"),o(42,"b"),s(43,"HORA: "),i(),s(44),U(45,"date"),i()()()}if(r&2){let n=p(2);c(8),d("options",n.regionales),x("ngModel",n.cooperativa.idRegional),c(),d("ngIf",!n.valIdRegional()),c(10),x("ngModel",n.cooperativa.codigo),c(),d("ngIf",!n.valCodigo()),c(4),x("ngModel",n.cooperativa.nombre),c(),d("ngIf",!n.valNombre()),c(4),x("ngModel",n.cooperativa.descripcion),c(),d("ngIf",!n.valDescripcion()),c(6),pe(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),c(4),I(" ",H(41,14,n.fechaHora,"dd/MM/yyyy")," "),c(4),I(" ",H(45,17,n.fechaHora,"HH:mm:ss")," ")}}function To(r,l){r&1&&(o(0,"div")(1,"div",26),m(2,"p-progressSpinner",27),o(3,"span",28),s(4,"Cargando..."),i()()())}function Ro(r,l){if(r&1&&(m(0,"hr"),f(1,Io,46,20,"div",3)(2,To,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(),d("ngIf",n.loading)}}function Mo(r,l){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),m(3,"span",33),i())}function Do(r,l){if(r&1){let n=E();o(0,"div",29)(1,"div",30),f(2,Mo,4,0,"div",3),i(),o(3,"div",8)(4,"p-button",31),g("click",function(){u(n);let t=p();return _(t.save())}),i(),o(5,"p-button",32),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()()}if(r&2){let n=p();c(2),d("ngIf",n.saving),c(2),d("text",!0)("raised",!0)("hidden",n.saving),c(),d("text",!0)("raised",!0)}}var tt=(()=>{let l=class l{constructor(e,t,a){this.principalService=e,this.messageService=t,this.cooperativaService=a,this.changeCooperativa=new q}showCreate(){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->create"),this.cooperativaService.create().subscribe({next:e=>{this.regionales=e.regionales,this.cooperativa={codigo:"",nombre:"",descripcion:""},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->edit Error en:",e.error)},complete:()=>{this.loading=!1}})}showEdit(e){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->edit",e),this.cooperativaService.edit(e).subscribe({next:t=>{this.regionales=t.regionales,this.cooperativa=t.cooperativa,this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->edit Error en:",t.error)},complete:()=>{this.loading=!1}})}save(){this.validate()?(this.saving=!0,this.cooperativa.id?(console.log("REQUEST->update",this.cooperativa),this.cooperativaService.update(this.cooperativa).subscribe({next:e=>{this.cooperativa=e.cooperativa,this.changeCooperativa.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->update",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->update Error en:",e.error)}})):(console.log("REQUEST->store",this.cooperativa),this.cooperativaService.store(this.cooperativa).subscribe({next:e=>{this.cooperativa=e.cooperativa,this.changeCooperativa.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->store",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->store Error en:",e.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valIdRegional(){return!!this.cooperativa.idRegional}valCodigo(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,20}$/.test(this.cooperativa.codigo)}valNombre(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,50}$/.test(this.cooperativa.nombre)}valDescripcion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.cooperativa.descripcion)}validate(){return this.cooperativa?this.valCodigo()&&this.valNombre()&&this.valDescripcion():"Cooperativa Vacio.false"}};l.\u0275fac=function(t){return new(t||l)(v(le),v(w),v(je))},l.\u0275cmp=R({type:l,selectors:[["app-dialog-cooperativa"]],outputs:{changeCooperativa:"changeCooperativa"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE COOPERATIVAS","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],[1,"col-6"],["id","idRegional","optionValue","id","optionLabel","nombre",3,"ngModelChange","options","ngModel"],["class","p-error",4,"ngIf"],[1,"card","shadow-3"],[1,"grid"],[1,"col-12","md:col-4","pr-5","text-center"],[1,"pi","pi-users","pt-5",2,"font-size","120px"],[1,"col-12","md:col-8","pr-5"],[1,"field","text-left"],["for","codigo"],["type","text","pInputText","","id","codigo",1,"w-full",3,"ngModelChange","ngModel"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","nombre",1,"w-full",3,"ngModelChange","ngModel"],[1,"field","col-12"],["for","descripcion"],["pInputTextarea","","id","descripcion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"p-error"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,Ro,3,2,"ng-template",1)(2,Do,6,6,"ng-template",2),i()),t&2&&(b(h(4,So)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Ce,P,Y,ge,j,O,D,ue,oe,ie,V,K,Z,J,F,N,k,z,ee,$,L]});let r=l;return r})();var Qe=(()=>{let l=class l{constructor(e){this.httpClient=e,this.url="http://127.0.0.1:8000/api/codificador/entorno/socio/"}index(e){return this.httpClient.get(this.url+"index/"+e)}store(e){return this.httpClient.post(this.url+"store",e)}edit(e){return this.httpClient.get(this.url+"edit/"+e)}update(e){return this.httpClient.put(this.url+"update",e)}destroy(e){return this.httpClient.delete(this.url+"destroy/"+e)}};l.\u0275fac=function(t){return new(t||l)(se(_e))},l.\u0275prov=ce({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();var Oo=()=>({width:"60vw"});function Vo(r,l){r&1&&(o(0,"small",23),s(1,"Requerido, Alfanum\xE9rico de 1-20."),i())}function Po(r,l){r&1&&(o(0,"small",23),s(1,"Requerido, Alfanum\xE9rico de 1-50."),i())}function No(r,l){r&1&&(o(0,"small",23),s(1,"Opcional, Alfanum\xE9rico de 0-200."),i())}function Fo(r,l){r&1&&(o(0,"small",23),s(1,"Opcional, Num\xE9rico de 0-10."),i())}function zo(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6),m(4,"i",7),i(),o(5,"div",8)(6,"div",9)(7,"label",10),s(8,"C\xF3digo"),i(),o(9,"input",11),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.socio.codigo,t)||(a.socio.codigo=t),_(t)}),i(),f(10,Vo,2,0,"small",12),i(),o(11,"div",13)(12,"label",14),s(13,"Nombre"),i(),o(14,"input",15),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.socio.nombre,t)||(a.socio.nombre=t),_(t)}),i(),f(15,Po,2,0,"small",12),i(),o(16,"div",13)(17,"label",16),s(18,"Description"),i(),o(19,"textarea",17),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.socio.descripcion,t)||(a.socio.descripcion=t),_(t)}),i(),f(20,No,2,0,"small",12),i(),o(21,"div",18)(22,"div",19)(23,"label",20),s(24,"Tel\xE9fono :"),i()(),o(25,"div",21)(26,"input",22),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.socio.fono,t)||(a.socio.fono=t),_(t)}),i(),f(27,Fo,2,0,"small",12),i()()()()(),m(28,"hr"),o(29,"div")(30,"p")(31,"b"),s(32,"USUARIO: "),i(),s(33),m(34,"br"),o(35,"b"),s(36,"FECHA: "),i(),s(37),U(38,"date"),o(39,"b"),s(40,"HORA: "),i(),s(41),U(42,"date"),i()()()}if(r&2){let n=p(2);c(9),x("ngModel",n.socio.codigo),c(),d("ngIf",!n.valCodigo()),c(4),x("ngModel",n.socio.nombre),c(),d("ngIf",!n.valNombre()),c(4),x("ngModel",n.socio.descripcion),c(),d("ngIf",!n.valDescripcion()),c(6),x("ngModel",n.socio.fono),c(),d("ngIf",!n.valFono()),c(6),pe(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),c(4),I(" ",H(38,13,n.fechaHora,"dd/MM/yyyy")," "),c(4),I(" ",H(42,16,n.fechaHora,"HH:mm:ss")," ")}}function ko(r,l){r&1&&(o(0,"div")(1,"div",24),m(2,"p-progressSpinner",25),o(3,"span",26),s(4,"Cargando..."),i()()())}function Lo(r,l){if(r&1&&(m(0,"hr"),f(1,zo,43,19,"div",3)(2,ko,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(),d("ngIf",n.loading)}}function jo(r,l){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),m(3,"span",31),i())}function Wo(r,l){if(r&1){let n=E();o(0,"div",27)(1,"div",28),f(2,jo,4,0,"div",3),i(),o(3,"div",21)(4,"p-button",29),g("click",function(){u(n);let t=p();return _(t.save())}),i(),o(5,"p-button",30),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()()}if(r&2){let n=p();c(2),d("ngIf",n.saving),c(2),d("text",!0)("raised",!0)("hidden",n.saving),c(),d("text",!0)("raised",!0)}}var it=(()=>{let l=class l{constructor(e,t,a){this.principalService=e,this.messageService=t,this.socioService=a,this.changeSocio=new q}showCreate(e){this.estado=!0,this.saving=!1,this.socio={codigo:"",nombre:"",descripcion:"",fono:"",idCooperativa:e},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj()}showEdit(e){this.estado=!0,this.saving=!1,this.socio=e,this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj()}save(){this.validate()?(this.saving=!0,this.socio.id?(console.log("REQUEST->update",this.socio),this.socioService.update(this.socio).subscribe({next:e=>{this.socio=e.socio,this.changeSocio.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->update",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->update Error en:",e.error)}})):(console.log("REQUEST->store",this.socio),this.socioService.store(this.socio).subscribe({next:e=>{this.socio=e.socio,this.changeSocio.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->store",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->store Error en:",e.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valCodigo(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,20}$/.test(this.socio.codigo)}valNombre(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,50}$/.test(this.socio.nombre)}valDescripcion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.socio.descripcion)}valFono(){return!!/^[\d +-]{0,20}$/.test(this.socio.fono||"")}validate(){return this.valCodigo()&&this.valNombre()&&this.valDescripcion()&&this.valFono()}};l.\u0275fac=function(t){return new(t||l)(v(le),v(w),v(Qe))},l.\u0275cmp=R({type:l,selectors:[["app-dialog-socio"]],outputs:{changeSocio:"changeSocio"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE SOCIOS","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"card","shadow-3"],[1,"grid"],[1,"col-12","md:col-4","text-center","pt-5"],[1,"pi","pi-users",2,"font-size","160px"],[1,"col-12","md:col-8","pr-5"],[1,"field","text-left"],["for","codigo"],["type","text","pInputText","","id","codigo",1,"w-full",3,"ngModelChange","ngModel"],["class","p-error",4,"ngIf"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","nombre",1,"w-full",3,"ngModelChange","ngModel"],["for","descripcion"],["pInputTextarea","","id","descripcion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","pt-2"],[1,"col-6","text-right","pt-3"],["for","porcentaje"],[1,"col-6"],["type","text","pInputText","","id","fono",1,"w-full",3,"ngModelChange","ngModel"],[1,"p-error"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,Lo,3,2,"ng-template",1)(2,Wo,6,6,"ng-template",2),i()),t&2&&(b(h(4,Oo)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Ce,P,j,O,D,ue,oe,ie,V,K,Z,J,F,N,k,z,ee,$,L]});let r=l;return r})();var Go=()=>({width:"450px"}),Ao=()=>[10,25,50],Bo=()=>["id","codigo","nombre","descripcion","fono"];function Uo(r,l){if(r&1){let n=E();o(0,"div",8)(1,"div",9)(2,"p-button",10),g("click",function(){u(n);let t=p(2);return _(t.showCreate())}),i(),o(3,"p-button",11),g("click",function(){u(n);let t=p(2);return _(t.exportXLS())}),i()(),o(4,"div",12)(5,"span",13),m(6,"i",14),o(7,"input",15),g("input",function(t){u(n),p();let a=de(5);return _(a.filterGlobal(t.target.value,"contains"))}),i()()()()}r&2&&(c(2),d("outlined",!0)("raised",!0),c(),d("outlined",!0)("raised",!0)("text",!0))}function Ho(r,l){r&1&&(o(0,"tr")(1,"th",16),s(2," SOCIO "),m(3,"p-sortIcon",17),i(),o(4,"th",18),s(5," TEL\xC9FONO "),m(6,"p-sortIcon",19),i(),o(7,"th",20),s(8," OPCIONES "),i()())}function Qo(r,l){if(r&1){let n=E();o(0,"tr")(1,"td")(2,"span",21),s(3,"C\xD3DIGO: "),i(),s(4),m(5,"br"),o(6,"span",21),s(7,"NOMBRE: "),i(),s(8),i(),o(9,"td"),s(10),i(),o(11,"td")(12,"p-button",22),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showReport(t.id))}),i(),o(13,"p-button",23),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showEdit(t))}),i(),o(14,"p-button",24),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDelete(t.id))}),i()()()}if(r&2){let n=l.$implicit;c(4),I("",n.codigo," "),c(4),I("",n.nombre," "),c(2),B(n.fono),c(2),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0)}}function Xo(r,l){if(r&1&&(o(0,"div")(1,"h5"),s(2,"Gesti\xF3n de Socios"),i(),m(3,"hr"),o(4,"p-table",4,0),f(6,Uo,8,5,"ng-template",5)(7,Ho,9,0,"ng-template",6)(8,Qo,15,9,"ng-template",7),i()()),r&2){let n=p();c(4),d("value",n.socios)("rows",10)("rowsPerPageOptions",h(6,Ao))("paginator",!0)("globalFilterFields",h(7,Bo))("rowHover",!0)}}function qo(r,l){r&1&&(o(0,"div")(1,"div",25),m(2,"p-progressSpinner",26),o(3,"span",27),s(4,"MINEXA S.R.L."),i()()())}var Xe=(()=>{let l=class l{constructor(e,t,a,y){this.route=e,this.socioService=t,this.messageService=a,this.confirmationService=y}show(){this.estado=!0,this.loading=!0,console.log("REQUEST->index"),this.socioService.index(this.idCooperativa).subscribe({next:e=>{this.socios=e.socios,console.log("RESPONSE->index",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->index Error en:",e.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate(this.idCooperativa)}showEdit(e){this.dialog.showEdit(e)}showDelete(e){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",e),this.socioService.destroy(e).subscribe({next:t=>{this.socios=this.socios.filter(a=>a.id!==e),this.messageService.add({severity:"success",summary:"RESPONSE",detail:t.msg,life:3e3}),console.log("RESPONSE->destroy",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->destroy Error en:",t.error)}})}})}showReport(e){alert("showReport"+e)}exportXLS(){alert("exportXLS")}};l.\u0275fac=function(t){return new(t||l)(v(rt),v(Qe),v(w),v(A))},l.\u0275cmp=R({type:l,selectors:[["app-index-socio"]],viewQuery:function(t,a){if(t&1&&ne(it,5),t&2){let y;re(y=ae())&&(a.dialog=y.first)}},inputs:{idCooperativa:"idCooperativa",socios:"socios"},standalone:!0,features:[me([w,A]),M],decls:6,vars:5,consts:[["dt",""],[4,"ngIf"],[1,"card-footer"],[3,"changeSocio"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8","flex"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","codigo",2,"width","45%"],["field","codigo"],["pSortableColumn","fono",2,"width","30%"],["field","fono"],[2,"width","25%"],[1,"prefijoRow"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(t,a){t&1&&(f(0,Xo,9,8,"div",1)(1,qo,5,0,"div",1),o(2,"div",2)(3,"app-dialog-socio",3),g("changeSocio",function(){return a.show()}),i(),m(4,"p-confirmDialog")(5,"p-toast"),i()),t&2&&(d("ngIf",!a.loading),c(),d("ngIf",a.loading),c(3),b(h(4,Go)))},dependencies:[G,W,j,X,P,he,xe,F,N,L,fe,te,ve,O,D,k,z,V,it]});let r=l;return r})();var qe=(()=>{let l=class l{constructor(e){this.httpClient=e,this.url="http://127.0.0.1:8000/api/codificador/entorno/legal/deduccionCoop/"}index(e){return this.httpClient.get(this.url+"index/"+e)}store(e){return this.httpClient.post(this.url+"store",e)}update(e){return this.httpClient.put(this.url+"update",e)}destroy(e){return this.httpClient.delete(this.url+"destroy/"+e)}};l.\u0275fac=function(t){return new(t||l)(se(_e))},l.\u0275prov=ce({token:l,factory:l.\u0275fac,providedIn:"root"});let r=l;return r})();var Zo=()=>({width:"60vw"});function Jo(r,l){r&1&&(o(0,"small",24),s(1,"Requerido, Alfanum\xE9rico de 1-20."),i())}function Yo(r,l){r&1&&(o(0,"small",24),s(1,"Requerido, Alfanum\xE9rico de 1-200."),i())}function $o(r,l){r&1&&(o(0,"small",24),s(1,"Requerido, Num\xE9rico."),i())}function en(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6),m(4,"i",7),i(),o(5,"div",8)(6,"div",9)(7,"label",10),s(8,"C\xF3digo"),i(),o(9,"input",11),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.deduccionCoop.codigo,t)||(a.deduccionCoop.codigo=t),_(t)}),i(),f(10,Jo,2,0,"small",12),i(),o(11,"div",13)(12,"label",14),s(13,"Concepto"),i(),o(14,"textarea",15),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.deduccionCoop.concepto,t)||(a.deduccionCoop.concepto=t),_(t)}),i(),f(15,Yo,2,0,"small",12),i(),o(16,"div",16)(17,"div",17)(18,"label",18),s(19,"Porcentaje (%) :"),i()(),o(20,"div",19)(21,"input",20),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.deduccionCoop.porcentaje,t)||(a.deduccionCoop.porcentaje=t),_(t)}),i(),f(22,$o,2,0,"small",12),i()(),o(23,"div",16)(24,"div",21)(25,"label",22),s(26,"Voluntario :"),i()(),o(27,"div",19)(28,"p-checkbox",23),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.deduccionCoop.voluntario,t)||(a.deduccionCoop.voluntario=t),_(t)}),i()()()()()()()}if(r&2){let n=p(2);c(9),x("ngModel",n.deduccionCoop.codigo),c(),d("ngIf",!n.valCodigo()),c(4),x("ngModel",n.deduccionCoop.concepto),c(),d("ngIf",!n.valConcepto()),c(6),x("ngModel",n.deduccionCoop.porcentaje),c(),d("ngIf",!n.valPorcentaje()),c(6),x("ngModel",n.deduccionCoop.voluntario),d("binary",!0)("ngModel",!!n.deduccionCoop.voluntario)}}function tn(r,l){r&1&&(o(0,"div")(1,"div",25),m(2,"p-progressSpinner",26),o(3,"span",27),s(4,"Cargando..."),i()()())}function on(r,l){if(r&1&&(m(0,"hr"),f(1,en,29,9,"div",3),m(2,"hr"),o(3,"div")(4,"p")(5,"b"),s(6,"USUARIO: "),i(),s(7),m(8,"br"),o(9,"b"),s(10,"FECHA: "),i(),s(11),U(12,"date"),o(13,"b"),s(14,"HORA: "),i(),s(15),U(16,"date"),i()(),f(17,tn,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(6),pe(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),c(4),I(" ",H(12,7,n.fechaHora,"dd/MM/yyyy")," "),c(4),I(" ",H(16,10,n.fechaHora,"HH:mm:ss")," "),c(2),d("ngIf",n.loading)}}function nn(r,l){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),m(3,"span",32),i())}function rn(r,l){if(r&1){let n=E();o(0,"div",28)(1,"div",29),f(2,nn,4,0,"div",3),i(),o(3,"div",19)(4,"p-button",30),g("click",function(){u(n);let t=p();return _(t.save())}),i(),o(5,"p-button",31),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()()}if(r&2){let n=p();c(2),d("ngIf",n.saving),c(2),d("text",!0)("raised",!0)("hidden",n.saving),c(),d("text",!0)("raised",!0)}}var ot=(()=>{let l=class l{constructor(e,t,a){this.principalService=e,this.messageService=t,this.deduccionCoopService=a,this.changeDeduccionCoop=new q}showCreate(e){this.estado=!0,this.saving=!1,this.deduccionCoop={idCooperativa:e,codigo:"",concepto:"",porcentaje:"",voluntario:!1},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj()}showEdit(e){this.estado=!0,this.saving=!1,this.deduccionCoop=e,this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj()}save(){this.validate()?(this.saving=!0,this.deduccionCoop.id?(console.log("REQUEST->update",this.deduccionCoop),this.deduccionCoopService.update(this.deduccionCoop).subscribe({next:e=>{this.deduccionCoop=e.deduccionCoop,this.changeDeduccionCoop.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->update",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->update Error en:",e.error)}})):(console.log("REQUEST->store",this.deduccionCoop),this.deduccionCoopService.store(this.deduccionCoop).subscribe({next:e=>{this.deduccionCoop=e.deduccionCoop,this.changeDeduccionCoop.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg}),console.log("RESPONSE->store",e),this.estado=!1},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->store Error en:",e.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valCodigo(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,20}$/.test(this.deduccionCoop.codigo)}valConcepto(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,200}$/.test(this.deduccionCoop.concepto)}valPorcentaje(){return!!/^[\d.]{1,10}$/.test(this.deduccionCoop.porcentaje)}validate(){return this.deduccionCoop?this.valCodigo()&&this.valConcepto()&&this.valPorcentaje():"Deducci\xF3n Vacio.false"}};l.\u0275fac=function(t){return new(t||l)(v(le),v(w),v(qe))},l.\u0275cmp=R({type:l,selectors:[["app-dialog-deduccionCoop"]],outputs:{changeDeduccionCoop:"changeDeduccionCoop"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE DEDUCCIONES","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"card","shadow-3"],[1,"grid"],[1,"col-12","md:col-4","text-center","pt-5"],[1,"pi","pi-users",2,"font-size","160px"],[1,"col-12","md:col-8","pr-5"],[1,"field","text-left"],["for","codigo"],["type","text","pInputText","","id","codigo",1,"w-full",3,"ngModelChange","ngModel"],["class","p-error",4,"ngIf"],[1,"field"],["for","concepto"],["pInputTextarea","","id","concepto","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"grid","pt-2"],[1,"col-6","text-right","pt-3"],["for","porcentaje"],[1,"col-6"],["type","number","pInputText","","id","porcentaje","step",".01",1,"w-full",3,"ngModelChange","ngModel"],[1,"col-6","text-right"],["for","voluntario"],["inputId","voluntario",3,"ngModelChange","ngModel","binary","ngModel"],[1,"p-error"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,on,18,13,"ng-template",1)(2,rn,6,6,"ng-template",2),i()),t&2&&(b(h(4,Zo)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Le,lt,P,Ce,j,O,D,ue,oe,ie,V,K,Te,Z,J,F,N,k,z,ee,$,L]});let r=l;return r})();var an=()=>({width:"450px"}),ln=()=>[10,25,50],cn=()=>["id","codigo","nombre","descripcion","fono"];function sn(r,l){if(r&1){let n=E();o(0,"div",8)(1,"div",9)(2,"p-button",10),g("click",function(){u(n);let t=p(2);return _(t.showCreate())}),i(),o(3,"p-button",11),g("click",function(){u(n);let t=p(2);return _(t.exportXLS())}),i()(),o(4,"div",12)(5,"span",13),m(6,"i",14),o(7,"input",15),g("input",function(t){u(n),p();let a=de(5);return _(a.filterGlobal(t.target.value,"contains"))}),i()()()()}r&2&&(c(2),d("outlined",!0)("raised",!0),c(),d("outlined",!0)("raised",!0)("text",!0))}function dn(r,l){r&1&&(o(0,"tr")(1,"th",16),s(2," DEDUCCI\xD3N "),m(3,"p-sortIcon",17),i(),o(4,"th",18),s(5," [ % ]"),m(6,"p-sortIcon",19),i(),o(7,"th",18),s(8," VOL."),m(9,"p-sortIcon",19),i(),o(10,"th",20),s(11," OPCIONES "),i()())}function pn(r,l){if(r&1){let n=E();o(0,"tr")(1,"td")(2,"span",21),s(3,"C\xD3DIGO: "),i(),s(4),m(5,"br"),o(6,"span",21),s(7,"CONCEPTO: "),i(),s(8),i(),o(9,"td"),s(10),i(),o(11,"td"),s(12),i(),o(13,"td")(14,"p-button",22),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showReport(t.id))}),i(),o(15,"p-button",23),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showEdit(t))}),i(),o(16,"p-button",24),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDelete(t.id))}),i()()()}if(r&2){let n=l.$implicit;c(4),I("",n.codigo," "),c(4),I("",n.concepto," "),c(2),I("",n.porcentaje,"\xA0%"),c(2),B(n.voluntario?"SI":"NO"),c(2),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0)}}function mn(r,l){if(r&1&&(o(0,"div")(1,"h5"),s(2,"Gesti\xF3n de Deducciones de Cooperativa"),i(),m(3,"hr"),o(4,"p-table",4,0),f(6,sn,8,5,"ng-template",5)(7,dn,12,0,"ng-template",6)(8,pn,17,10,"ng-template",7),i()()),r&2){let n=p();c(4),d("value",n.deduccionesCoop)("rows",10)("rowsPerPageOptions",h(6,ln))("paginator",!0)("globalFilterFields",h(7,cn))("rowHover",!0)}}function un(r,l){r&1&&(o(0,"div")(1,"div",25),m(2,"p-progressSpinner",26),o(3,"span",27),s(4,"MINEXA S.R.L."),i()()())}var yt=(()=>{let l=class l{constructor(e,t,a){this.deduccionCoopService=e,this.messageService=t,this.confirmationService=a}show(){this.estado=!0,this.loading=!0,console.log("REQUEST->index"),this.deduccionCoopService.index(this.idCooperativa).subscribe({next:e=>{this.deduccionesCoop=e.deduccionesCoop,console.log("RESPONSE->index",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->index Error en:",e.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate(this.idCooperativa)}showEdit(e){this.dialog.showEdit(e)}showDelete(e){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",e),this.deduccionCoopService.destroy(e).subscribe({next:t=>{this.deduccionesCoop=this.deduccionesCoop.filter(a=>a.id!==e),this.messageService.add({severity:"success",summary:"RESPONSE",detail:t.msg,life:3e3}),console.log("RESPONSE->destroy",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->destroy Error en:",t.error)}})}})}showReport(e){alert("showReport"+e)}exportXLS(){alert("exportXLS")}};l.\u0275fac=function(t){return new(t||l)(v(qe),v(w),v(A))},l.\u0275cmp=R({type:l,selectors:[["app-index-deduccionCoop"]],viewQuery:function(t,a){if(t&1&&ne(ot,5),t&2){let y;re(y=ae())&&(a.dialog=y.first)}},inputs:{idCooperativa:"idCooperativa",deduccionesCoop:"deduccionesCoop"},standalone:!0,features:[me([w,A]),M],decls:6,vars:5,consts:[["dt",""],[4,"ngIf"],[1,"card-footer"],[3,"changeDeduccionCoop"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8","flex"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","nombre",2,"width","45%"],["field","nombre"],["pSortableColumn","descripcion",2,"width","15%"],["field","descripcion"],[2,"width","25%"],[1,"prefijoRow"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(t,a){t&1&&(f(0,mn,9,8,"div",1)(1,un,5,0,"div",1),o(2,"div",2)(3,"app-dialog-deduccionCoop",3),g("changeDeduccionCoop",function(){return a.show()}),i(),m(4,"p-confirmDialog")(5,"p-toast"),i()),t&2&&(d("ngIf",!a.loading),c(),d("ngIf",a.loading),c(3),b(h(4,an)))},dependencies:[G,W,j,X,P,he,xe,F,N,L,fe,te,ve,O,D,k,z,V,ot]});let r=l;return r})();var _n=()=>({width:"75vw"}),bt=()=>({width:"130px"});function gn(r,l){if(r&1){let n=E();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),m(5,"i",8)(6,"hr")(7,"hr"),i(),o(8,"div",9)(9,"label",10),s(10,"Codigo : "),i(),o(11,"input",11),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cooperativa.nombre,t)||(a.cooperativa.nombre=t),_(t)}),i()(),o(12,"div",9)(13,"label",12),s(14,"Nombre : "),i(),o(15,"input",13),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cooperativa.nombre,t)||(a.cooperativa.nombre=t),_(t)}),i()(),o(16,"div",9)(17,"label",14),s(18,"Descripci\xF3n : "),i(),o(19,"textarea",15),S("ngModelChange",function(t){u(n);let a=p(2);return C(a.cooperativa.descripcion,t)||(a.cooperativa.descripcion=t),_(t)}),i()()()(),o(20,"div",16)(21,"div",6)(22,"p-tabView",17),S("activeIndexChange",function(t){u(n);let a=p(2);return C(a.activeIndex,t)||(a.activeIndex=t),_(t)}),o(23,"p-tabPanel",18),m(24,"app-index-deduccionCoop",19)(25,"hr"),o(26,"div",20)(27,"p-button",21),g("onClick",function(){u(n);let t=p(2);return _(t.activeIndex=1)}),i()()(),o(28,"p-tabPanel",22),m(29,"app-index-socio",23)(30,"hr"),o(31,"div",20)(32,"p-button",24),g("onClick",function(){u(n);let t=p(2);return _(t.activeIndex=0)}),i()()()()()()()()}if(r&2){let n=p(2);c(11),x("ngModel",n.cooperativa.nombre),d("disabled",!0),c(4),x("ngModel",n.cooperativa.nombre),d("disabled",!0),c(4),x("ngModel",n.cooperativa.descripcion),d("disabled",!0),c(3),x("activeIndex",n.activeIndex),c(2),d("idCooperativa",n.cooperativa.id)("deduccionesCoop",n.deduccionesCoop),c(3),b(h(19,bt)),d("rounded",!0)("outlined",!0),c(2),d("idCooperativa",n.cooperativa.id)("socios",n.socios),c(3),b(h(20,bt)),d("rounded",!0)("outlined",!0)}}function fn(r,l){r&1&&(o(0,"div")(1,"div",25),m(2,"p-progressSpinner",26),o(3,"span",27),s(4,"Cargando..."),i()()())}function vn(r,l){if(r&1&&(m(0,"hr"),f(1,gn,33,21,"div",3)(2,fn,5,0,"div",3)),r&2){let n=p();c(),d("ngIf",!n.loading),c(),d("ngIf",n.loading)}}function hn(r,l){if(r&1){let n=E();o(0,"div",28)(1,"p-button",29),g("click",function(){u(n);let t=p();return _(t.cancel())}),i()()}r&2&&(c(),d("text",!0)("raised",!0))}var nt=(()=>{let l=class l{constructor(e,t){this.messageService=e,this.cooperativaService=t,this.changeShow=new q}show(e){this.estado=!0,this.loading=!0,this.activeIndex=0,console.log("REQUEST->show",e),this.cooperativaService.show(e).subscribe({next:t=>{this.cooperativa=t.cooperativa,this.deduccionesCoop=t.cooperativa.deducciones_coop,this.socios=t.cooperativa.socios,console.log("RESPONSE->show",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->show Error en:",t.error)},complete:()=>{this.loading=!1}})}cancel(){this.estado=!1,this.changeShow.emit()}};l.\u0275fac=function(t){return new(t||l)(v(w),v(je))},l.\u0275cmp=R({type:l,selectors:[["app-show-cooperativa"]],outputs:{changeShow:"changeShow"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","false","closable","false","header","DETALLE DE COOPERATIVA","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid"],[1,"col-12","sm:col-4"],[1,"card","shadow-3",2,"min-height","600px"],[1,"text-center","py-5"],[1,"pi","pi-users",2,"font-size","120px"],[1,"field"],["for","codigo"],["type","text","pInputText","","id","mineral",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","nombre"],["type","text","pInputText","","id","nombre",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","descripcion"],["pInputTextarea","","id","descripcion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel","disabled"],[1,"col-12","sm:col-8"],[3,"activeIndexChange","activeIndex"],["header","DEDUCCIONES"],[3,"idCooperativa","deduccionesCoop"],[1,"text-right","mt-3"],["label","Siguiente","severity","success","icon","pi pi-arrow-right","iconPos","right",3,"onClick","rounded","outlined"],["header","SOCIOS"],[3,"idCooperativa","socios"],["label","Anterior","severity","success","icon","pi pi-arrow-left","iconPos","left",3,"onClick","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"custom-footer"],["pRipple","","label","Cerrar","icon","pi pi-times","severity","warning",3,"click","text","raised"]],template:function(t,a){t&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return C(a.estado,T)||(a.estado=T),T}),f(1,vn,3,2,"ng-template",1)(2,hn,2,2,"ng-template",2),i()),t&2&&(b(h(4,_n)),x("visible",a.estado),d("modal",!0))},dependencies:[G,W,Ce,ke,ze,P,Y,Le,j,at,O,D,oe,ie,V,K,Z,J,F,N,k,z,ee,$,L,yt,Xe]});let r=l;return r})();var xn=()=>({width:"450px"}),Cn=()=>({width:"100%"}),Sn=()=>[10,25,50],En=()=>["id","codigo","nombre","descripcion"],wn=()=>({"min-width":"75rem"});function yn(r,l){if(r&1){let n=E();o(0,"div",18)(1,"div",19)(2,"p-button",20),g("click",function(){u(n);let t=p(2);return _(t.showCreate())}),i(),o(3,"p-button",21),g("click",function(){u(n);let t=p(2);return _(t.exportXLS())}),i()(),o(4,"div",22)(5,"span",23),m(6,"i",24),o(7,"input",25),g("input",function(t){u(n),p();let a=de(12);return _(a.filterGlobal(t.target.value,"contains"))}),i()()()()}r&2&&(c(2),d("outlined",!0)("raised",!0),c(),d("outlined",!0)("raised",!0)("text",!0))}function bn(r,l){r&1&&(o(0,"tr")(1,"th",26),s(2," FOTO "),m(3,"p-sortIcon",27),i(),o(4,"th",28),s(5," COOPERATIVA "),m(6,"p-sortIcon",29),i(),o(7,"th",30),s(8," DEDUCCIONES "),m(9,"p-sortIcon",31),i(),o(10,"th",30),s(11," SOCIOS "),m(12,"p-sortIcon",31),i(),o(13,"th",32),s(14," OPCIONES "),i()())}function In(r,l){if(r&1){let n=E();o(0,"tr")(1,"td",33)(2,"div",34),m(3,"i",35),i()(),o(4,"td")(5,"span",36),s(6,"CODIGO: "),i(),s(7),m(8,"br"),o(9,"span",36),s(10,"NOMBRE: "),i(),s(11),m(12,"br"),o(13,"span",36),s(14,"DESCRIPCI\xD3N: "),i(),s(15),i(),o(16,"td")(17,"span",36),s(18,"TOTAL: "),i(),o(19,"b"),s(20),i()(),o(21,"td")(22,"span",36),s(23,"TOTAL: "),i(),o(24,"b"),s(25),i()(),o(26,"td")(27,"p-button",37),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDetail(t.id))}),i(),o(28,"p-button",38),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showEdit(t.id))}),i(),o(29,"p-button",39),g("click",function(){let t=u(n).$implicit,a=p(2);return _(a.showDelete(t.id))}),i()()()}if(r&2){let n=l.$implicit;c(7),I("",n.codigo," "),c(4),I("",n.nombre," "),c(4),I("",n.descripcion," "),c(5),B(n.deducciones_coop.length),c(5),B(n.socios.length),c(2),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0),c(),d("rounded",!0)("outlined",!0)}}function Tn(r,l){if(r&1){let n=E();o(0,"div")(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"label",11),s(7,"Regional:"),i()(),o(8,"div",12)(9,"p-dropdown",13),g("onChange",function(t){u(n);let a=p();return _(a.filter(t.value))})("onClear",function(){u(n);let t=p();return _(t.clearFilter())}),i()()()()(),m(10,"hr"),o(11,"p-table",14,0),f(13,yn,8,5,"ng-template",15)(14,bn,15,0,"ng-template",16)(15,In,30,11,"ng-template",17),i()()()}if(r&2){let n=p();c(9),b(h(12,Cn)),d("options",n.regionales)("showClear",!0),c(2),d("value",n.cooperativas)("rows",10)("rowsPerPageOptions",h(13,Sn))("paginator",!0)("globalFilterFields",h(14,En))("tableStyle",h(15,wn))("rowHover",!0)("showCurrentPageReport",!0)}}function Rn(r,l){r&1&&(o(0,"div")(1,"div",40),m(2,"p-progressSpinner",41),o(3,"span",42),s(4,"MINEXA S.R.L."),i()()())}var It=(()=>{let l=class l{constructor(e,t,a){this.cooperativaService=e,this.messageService=t,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.cooperativaService.index().subscribe({next:e=>{this.regionales=e.regionales,this.cooperativas=e.cooperativas,this.data=e.cooperativas,console.log("RESPONSE->index",e)},error:e=>{this.cooperativas=[],this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->index Error en:",e.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(e){this.dialog.showEdit(e)}showDelete(e){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",e),this.cooperativaService.destroy(e).subscribe({next:t=>{this.cooperativas=this.cooperativas.filter(a=>a.id!==e),this.messageService.add({severity:"success",summary:"RESPONSE",detail:t.msg,life:3e3}),console.log("RESPONSE->destroy",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->destroy Error en:",t.error)}})}})}showDetail(e){this.detail.show(e)}exportXLS(){alert("exportXLS")}filter(e){this.cooperativas=this.data.filter(t=>t.idRegional==e)}clearFilter(){this.cooperativas=this.data}};l.\u0275fac=function(t){return new(t||l)(v(je),v(w),v(A))},l.\u0275cmp=R({type:l,selectors:[["app-index-cooperativa"]],viewQuery:function(t,a){if(t&1&&(ne(tt,5),ne(nt,5)),t&2){let y;re(y=ae())&&(a.dialog=y.first),re(y=ae())&&(a.detail=y.first)}},standalone:!0,features:[me([w,A]),M],decls:12,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changeCooperativa"],[3,"changeShow"],[1,"card-body","shadow-5"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],["for","regional"],[1,"col-6"],["id","regional","optionValue","id","optionLabel","nombre","placeholder","TODOS",3,"onChange","onClear","options","showClear"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id",1,"text-center",2,"width","10%"],["field","id"],["pSortableColumn","nombre",2,"width","40%"],["field","nombre"],["pSortableColumn","descripcion",2,"width","15%"],["field","descripcion"],[2,"width","20%"],[1,"flex","justify-content-center"],[1,"text-center",2,"padding","10px","border","2px solid #dcdcdc","border-radius","50%","width","60px","height","60px"],[1,"pi","pi-users",2,"font-size","30px"],[1,"prefijoRow"],["pRipple","","icon","pi pi-bars","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(t,a){t&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n de Cooperativas"),i()(),m(3,"hr"),f(4,Tn,16,16,"div",2),m(5,"hr"),o(6,"div",3)(7,"app-dialog-cooperativa",4),g("changeCooperativa",function(){return a.show()}),i(),o(8,"app-show-cooperativa",5),g("changeShow",function(){return a.show()}),i(),m(9,"p-confirmDialog")(10,"p-toast"),i(),f(11,Rn,5,0,"div",2)),t&2&&(c(4),d("ngIf",!a.loading),c(5),b(h(4,xn)),c(2),d("ngIf",a.loading))},dependencies:[G,W,Y,ge,P,j,X,he,xe,F,N,L,fe,te,ve,O,D,k,z,V,tt,nt]});let r=l;return r})();var ns=[{path:"cooperativa/index",component:It},{path:"socio/index/:id",component:Xe},{path:"cliente/index",component:st},{path:"laboratorio/index",component:ht},{path:"cotizacion/index",component:_t},{path:"cotizacion15/index",component:Ct},{path:"deduccion/index",component:ft}];export{ns as EntornoRoutes};
