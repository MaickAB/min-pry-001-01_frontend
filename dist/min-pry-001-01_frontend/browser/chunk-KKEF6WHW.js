import{a as Ue,b as Fe,c as we}from"./chunk-P5K5KTAJ.js";import{b as Ne}from"./chunk-2RUBCXOU.js";import{a as Xe,b as Ve}from"./chunk-GOSJJDVW.js";import"./chunk-MJOHIA6K.js";import{a as xe,b as ve,d as q,e as Y,f as Z,g as Oe,i as H,j as Se,k as Ce,l as G,m as Q}from"./chunk-ZSPJV2X2.js";import{f as N,g as k,h as _e}from"./chunk-64FVGRX5.js";import{c as ge,d as he}from"./chunk-AIZYAHQP.js";import{a as fe,b as j}from"./chunk-AQMLQG24.js";import"./chunk-R25NPE2E.js";import{$ as L,E as U,I,N as F,_ as W,a as de,aa as A,ba as B,t as me,v as ce,w as ue,z as O}from"./chunk-KZFJR7EH.js";import{$ as P,$a as ze,Aa as K,Ab as S,Bb as se,Cb as M,Db as f,Ea as l,Fa as C,Mb as z,Nb as X,R as $,Ua as g,W as ee,Wa as d,Za as y,ab as Be,bb as Ee,cb as ye,db as o,eb as i,fb as c,ja as u,jb as w,ka as _,kb as h,lb as m,nc as D,pb as ie,qb as ne,qc as pe,rb as oe,rc as V,sa as te,sb as re,tb as s,ub as b,vb as E,wb as ae,xb as le,yb as x,zb as v}from"./chunk-VURLBMTQ.js";var ke=(()=>{let p=class p{constructor(t){this.httpClient=t,this.url="http://127.0.0.1:8000/api/codificador/recursoHumano/persona/"}index(){return this.httpClient.get(this.url+"index")}search(t){return this.httpClient.get(this.url+"search/"+t)}create(){return this.httpClient.get(this.url+"create")}store(t){return this.httpClient.post(this.url+"store",t)}edit(t){return this.httpClient.get(this.url+"edit/"+t)}update(t){return this.httpClient.put(this.url+"update",t)}destroy(t){return this.httpClient.delete(this.url+"destroy/"+t)}};p.\u0275fac=function(e){return new(e||p)(ee(de))},p.\u0275prov=$({token:p,factory:p.\u0275fac,providedIn:"root"});let r=p;return r})();var mt=()=>({width:"75vw"});function ct(r,p){r&1&&(o(0,"small",39),s(1,"Requerido."),i())}function ut(r,p){r&1&&(o(0,"small",39),s(1,"Requerido, jpg, png max:2MB."),i())}function _t(r,p){if(r&1&&(o(0,"div",40),c(1,"img",41),i()),r&2){let n=m(3);l(),d("src",n.imgUrl,K)}}function gt(r,p){r&1&&(o(0,"small",39),s(1,"Requerido, Num\xE9rico."),i())}function ht(r,p){r&1&&(o(0,"small",39),s(1,"Requerido, Alfanum\xE9rico de 1-50."),i())}function ft(r,p){r&1&&(o(0,"small",39),s(1,"Requerido, Alfanum\xE9rico de 1-50."),i())}function xt(r,p){r&1&&(o(0,"small",39),s(1,"Opcional, Alfanum\xE9rico de 0-50."),i())}function vt(r,p){r&1&&(o(0,"small",39),s(1,"Requerido."),i())}function St(r,p){r&1&&(o(0,"small",39),s(1,"Requerido, Num\xE9rico."),i())}function Ct(r,p){r&1&&(o(0,"small",39),s(1,"Requerido."),i())}function wt(r,p){r&1&&(o(0,"small",39),s(1,"Requerido, Alfanum\xE9rico de 1-200."),i())}function Et(r,p){r&1&&(o(0,"small",39),s(1,"Opcional, Alfanum\xE9rico de 0-200."),i())}function yt(r,p){if(r&1){let n=w();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"label"),s(6,"Regional:"),i()(),o(7,"div",8)(8,"p-dropdown",9),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.idRegional,e)||(a.persona.idRegional=e),_(e)}),i(),g(9,ct,2,0,"small",10),i()()()(),c(10,"hr"),o(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14)(15,"div",15)(16,"label",16),s(17,"Foto"),i(),o(18,"input",17),h("change",function(e){u(n);let a=m(2);return _(a.loadImg(e))}),i(),g(19,ut,2,0,"small",10)(20,_t,2,1,"div",18),i()()()(),o(21,"div",19)(22,"div",13)(23,"div",15)(24,"label",20),s(25,"Carnet de Identidad"),i(),o(26,"input",21),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.documento,e)||(a.persona.documento=e),_(e)}),i(),g(27,gt,2,0,"small",10),i(),o(28,"div",15)(29,"label",22),s(30,"Nombre"),i(),o(31,"input",23),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.nombre,e)||(a.persona.nombre=e),_(e)}),i(),g(32,ht,2,0,"small",10),i(),o(33,"div",11)(34,"div",24)(35,"div",15)(36,"label",25),s(37,"Apellido Paterno"),i(),o(38,"input",26),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.apePaterno,e)||(a.persona.apePaterno=e),_(e)}),i(),g(39,ft,2,0,"small",10),i()(),o(40,"div",24)(41,"div",15)(42,"label",27),s(43,"Apellido Materno"),i(),o(44,"input",28),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.apeMaterno,e)||(a.persona.apeMaterno=e),_(e)}),i(),g(45,xt,2,0,"small",10),i()()(),o(46,"div",11)(47,"div",24)(48,"div",15)(49,"label",29),s(50,"G\xE9nero"),i(),o(51,"p-dropdown",30),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.idTipoGenero,e)||(a.persona.idTipoGenero=e),_(e)}),i(),g(52,vt,2,0,"small",10),i()(),o(53,"div",24)(54,"div",15)(55,"label",31),s(56,"Tel\xE9fono/Celular"),i(),o(57,"input",32),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.fono,e)||(a.persona.fono=e),_(e)}),i(),g(58,St,2,0,"small",10),i()()(),o(59,"div",15)(60,"label",33),s(61,"Tipo de Personal:"),i(),o(62,"p-dropdown",34),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.idTipoPersona,e)||(a.persona.idTipoPersona=e),_(e)}),i(),g(63,Ct,2,0,"small",10),i(),o(64,"div",15)(65,"label",35),s(66,"Direcci\xF3n"),i(),o(67,"input",36),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.direccion,e)||(a.persona.direccion=e),_(e)}),i(),g(68,wt,2,0,"small",10),i(),o(69,"div",15)(70,"label",37),s(71,"Description"),i(),o(72,"textarea",38),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.persona.descripcion,e)||(a.persona.descripcion=e),_(e)}),i(),g(73,Et,2,0,"small",10),i()()()(),c(74,"hr"),o(75,"div")(76,"p")(77,"b"),s(78,"USUARIO: "),i(),s(79),c(80,"br"),o(81,"b"),s(82,"FECHA: "),i(),s(83),z(84,"date"),o(85,"b"),s(86,"HORA: "),i(),s(87),z(88,"date"),i()()()}if(r&2){let n=m(2);l(8),d("options",n.regionales),x("ngModel",n.persona.idRegional),l(),d("ngIf",!n.valIdRegional()),l(10),d("ngIf",!n.imgValida),l(),d("ngIf",n.imgUrl),l(6),x("ngModel",n.persona.documento),l(),d("ngIf",!n.valDocumento()),l(4),x("ngModel",n.persona.nombre),l(),d("ngIf",!n.valNombre()),l(6),x("ngModel",n.persona.apePaterno),l(),d("ngIf",!n.valApePaterno()),l(5),x("ngModel",n.persona.apeMaterno),l(),d("ngIf",!n.valApeMaterno()),l(6),d("options",n.tipoGeneros),x("ngModel",n.persona.idTipoGenero),l(),d("ngIf",!n.valIdTipoGenero()),l(5),x("ngModel",n.persona.fono),l(),d("ngIf",!n.valFono()),l(4),d("options",n.tipoPersonas),x("ngModel",n.persona.idTipoPersona),l(),d("ngIf",!n.valIdTipoPersona()),l(4),x("ngModel",n.persona.direccion),l(),d("ngIf",!n.valDireccion()),l(4),x("ngModel",n.persona.descripcion),l(),d("ngIf",!n.valDescripcion()),l(6),le(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),l(4),E(" ",X(84,30,n.fechaHora,"dd/MM/yyyy")," "),l(4),E(" ",X(88,33,n.fechaHora,"HH:mm:ss")," ")}}function bt(r,p){r&1&&(o(0,"div")(1,"div",42),c(2,"p-progressSpinner",43),o(3,"span",44),s(4,"Cargando..."),i()()())}function It(r,p){if(r&1&&(c(0,"hr"),g(1,yt,89,36,"div",3)(2,bt,5,0,"div",3)),r&2){let n=m();l(),d("ngIf",!n.loading),l(),d("ngIf",n.loading)}}function Rt(r,p){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),c(3,"span",49),i())}function Tt(r,p){if(r&1){let n=w();o(0,"div",45)(1,"div",46),g(2,Rt,4,0,"div",3),i(),o(3,"div",8)(4,"p-button",47),h("click",function(){u(n);let e=m();return _(e.save())}),i(),o(5,"p-button",48),h("click",function(){u(n);let e=m();return _(e.cancel())}),i()()()}if(r&2){let n=m();l(2),d("ngIf",n.saving),l(2),d("text",!0)("raised",!0)("hidden",n.saving),l(),d("text",!0)("raised",!0)}}var je=(()=>{let p=class p{constructor(t,e,a){this.principalService=t,this.messageService=e,this.personaService=a,this.changePersona=new te}showCreate(){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->create"),this.personaService.create().subscribe({next:t=>{this.regionales=t.regionales,this.tipoPersonas=t.tipoPersonas,this.tipoGeneros=t.tipoGeneros,this.imgUrl="/img/imgDefecto.png",this.imgValida=!1,this.persona={documento:"",nombre:"",apePaterno:"",apeMaterno:"",direccion:"",fono:"",foto:"",descripcion:""},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->create",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->create Error en:",t.error)},complete:()=>{this.loading=!1}})}showEdit(t){this.estado=!0,this.loading=!0,this.saving=!1,console.log("REQUEST->edit",t),this.personaService.edit(t).subscribe({next:e=>{this.regionales=e.regionales,this.tipoPersonas=e.tipoPersonas,this.tipoGeneros=e.tipoGeneros,this.imgUrl=e.persona.foto,this.imgValida=!0,this.persona=e.persona,this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->edit Error en:",e.error)},complete:()=>{this.loading=!1}})}save(){this.validate()?(this.saving=!0,this.persona.id?(console.log("REQUEST->update",this.persona),this.personaService.update(this.persona).subscribe({next:t=>{this.persona=t.persona,this.changePersona.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:t.msg}),console.log("RESPONSE->update",t),this.estado=!1},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->update Error en:",t.error)}})):(console.log("REQUEST->store",this.persona),this.personaService.store(this.persona).subscribe({next:t=>{this.persona=t.persona,this.changePersona.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:t.msg}),console.log("RESPONSE->store",t),this.estado=!1},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->store Error en:",t.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR",detail:"Datos incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}loadImg(t){let a=["jpg","png"],R;if(t.target.files.length>0){let T=t.target.files[0],pt=T.size,dt=T.name.split(".").pop().toLowerCase();pt>2097152||!a.includes(dt)?this.imgValida=!1:this.imgValida=!0,R=T;let Qe=new FileReader;Qe.onload=qe=>{this.imgUrl=qe.target.result,this.persona.foto=qe.target.result},Qe.readAsDataURL(R)}}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valIdRegional(){return!!this.persona.idRegional}valIdTipoPersona(){return!!this.persona.idTipoPersona}valIdTipoGenero(){return!!this.persona.idTipoGenero}valDocumento(){return!!/^[\d-]{1,10}$/.test(this.persona.documento)}valNombre(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,50}$/.test(this.persona.nombre)}valApePaterno(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,50}$/.test(this.persona.apePaterno)}valApeMaterno(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,50}$/.test(this.persona.apeMaterno)}valDescripcion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.persona.descripcion)}valDireccion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,200}$/.test(this.persona.direccion)}valFono(){return!!/^[\d +-]{1,20}$/.test(this.persona.fono)}validate(){return this.valDocumento()&&this.valNombre()&&this.valDescripcion()&&this.valDireccion()&&this.valFono()&&this.imgValida&&this.valIdTipoPersona()&&this.valIdTipoGenero()}};p.\u0275fac=function(e){return new(e||p)(C(_e),C(I),C(ke))},p.\u0275cmp=P({type:p,selectors:[["app-dialog-persona"]],outputs:{changePersona:"changePersona"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE PERSONAL","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],[1,"col-6"],["id","idRegional","optionValue","id","optionLabel","nombre",3,"ngModelChange","options","ngModel"],["class","p-error",4,"ngIf"],[1,"grid"],[1,"col-12","md:col-4"],[1,"card","shadow-3",2,"min-height","780px"],[1,"flex","flex-column","gap-2"],[1,"field"],["for","foto"],["type","file","pInputText","","id","foto",3,"change"],["class","pt-3",4,"ngIf"],[1,"col-12","md:col-8"],["for","documento"],["type","text","pInputText","","id","documento",1,"w-full",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","pInputText","","id","nombre",1,"w-full",3,"ngModelChange","ngModel"],[1,"col-12","sm:col-6"],["for","apePaterno"],["type","text","pInputText","","id","apePaterno",1,"w-full",3,"ngModelChange","ngModel"],["for","apeMaterno"],["type","text","pInputText","","id","apeMaterno",1,"w-full",3,"ngModelChange","ngModel"],["for","idGenero"],["id","idGenero","optionValue","id","optionLabel","nombre",3,"ngModelChange","options","ngModel"],["for","fono"],["type","text","pInputText","","id","fono",1,"w-full",3,"ngModelChange","ngModel"],["for","idTipoPersona"],["id","idTipoPersona","optionValue","id","optionLabel","nombre",3,"ngModelChange","options","ngModel"],["for","direccion"],["type","text","pInputText","","id","direccion",1,"w-full",3,"ngModelChange","ngModel"],["for","descripcion"],["pInputTextarea","","id","descripcion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"p-error"],[1,"pt-3"],["alt","Vista previa de la imagen",2,"width","100%","height","350px",3,"src"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(e,a){e&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return v(a.estado,T)||(a.estado=T),T}),g(1,It,3,2,"ng-template",1)(2,Tt,6,6,"ng-template",2),i()),e&2&&(y(f(4,mt)),x("visible",a.estado),d("modal",!0))},dependencies:[Q,G,we,F,k,N,Ne,H,Ve,V,D,pe,Ce,Se,O,me,ce,ue,L,W,B,A,he,ge,j]});let r=p;return r})();var Pt=()=>({width:"450px"}),Mt=()=>({width:"100%"}),Dt=()=>[10,25,50],Vt=()=>["id","documento","nombre","direccion","fono"],Ot=()=>({"min-width":"75rem"});function Ut(r,p){if(r&1){let n=w();o(0,"div",17)(1,"div",18)(2,"p-button",19),h("click",function(){u(n);let e=m(2);return _(e.showCreate())}),i(),o(3,"p-button",20),h("click",function(){u(n);let e=m(2);return _(e.exportXLS())}),i()(),o(4,"div",21)(5,"span",22),c(6,"i",23),o(7,"input",24),h("input",function(e){u(n),m();let a=re(12);return _(a.filterGlobal(e.target.value,"contains"))}),i()()()()}r&2&&(l(2),d("outlined",!0)("raised",!0),l(),d("outlined",!0)("raised",!0)("text",!0))}function Ft(r,p){r&1&&(o(0,"tr")(1,"th",25),s(2," FOTO "),c(3,"p-sortIcon",26),i(),o(4,"th",27),s(5," DATOS PERSONAL "),c(6,"p-sortIcon",28),i(),o(7,"th",29),s(8," REPARTICI\xD3N "),c(9,"p-sortIcon",30),i(),o(10,"th",29),s(11," ASIGNACI\xD3N "),c(12,"p-sortIcon",30),i(),o(13,"th",31),s(14," OPCIONES "),i()())}function Nt(r,p){if(r&1&&(o(0,"td"),s(1),i()),r&2){let n=m().$implicit;l(),E(" ",n.asignacion," ")}}function kt(r,p){r&1&&(o(0,"td")(1,"font",38),s(2," No Asignado"),i()())}function Wt(r,p){if(r&1){let n=w();o(0,"tr")(1,"td",32),c(2,"img",33),i(),o(3,"td")(4,"span",34),s(5,"DOCUMENTO: "),i(),s(6),c(7,"br"),o(8,"span",34),s(9,"NOMBRE: "),i(),s(10),c(11,"br"),o(12,"span",34),s(13,"DIRECCI\xD3N: "),i(),s(14),c(15,"br"),o(16,"span",34),s(17,"TEL\xC9FONO: "),i(),s(18),i(),o(19,"td")(20,"span",34),s(21,"REGIONAL: "),i(),s(22),c(23,"br"),o(24,"span",34),s(25,"TIPO: "),i(),s(26),i(),g(27,Nt,2,1,"td")(28,kt,3,0,"td"),o(29,"td")(30,"p-button",35),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showReport(e.id))}),i(),o(31,"p-button",36),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showEdit(e.id))}),i(),o(32,"p-button",37),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showDelete(e.id))}),i()()()}if(r&2){let n=p.$implicit;l(2),d("src",n.foto,K),l(4),b(n.documento),l(4),ae("",n.nombre," ",n.apePaterno,""),l(4),b(n.direccion),l(4),E("",n.fono," "),l(4),b(n.regional.nombre),l(4),E("",n.tipo.nombre," "),l(),ze(n.asignacion?27:28),l(3),d("rounded",!0)("outlined",!0),l(),d("rounded",!0)("outlined",!0),l(),d("rounded",!0)("outlined",!0)}}function Lt(r,p){if(r&1){let n=w();o(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",10),s(7,"Regional:"),i()(),o(8,"div",11)(9,"p-dropdown",12),h("onChange",function(e){u(n);let a=m();return _(a.filter(e.value))})("onClear",function(){u(n);let e=m();return _(e.clearFilter())}),i()()()()(),c(10,"hr"),o(11,"p-table",13,0),g(13,Ut,8,5,"ng-template",14)(14,Ft,15,0,"ng-template",15)(15,Wt,33,15,"ng-template",16),i()()()}if(r&2){let n=m();l(9),y(f(12,Mt)),d("options",n.regionales)("showClear",!0),l(2),d("value",n.personas)("rows",10)("rowsPerPageOptions",f(13,Dt))("paginator",!0)("globalFilterFields",f(14,Vt))("tableStyle",f(15,Ot))("rowHover",!0)("showCurrentPageReport",!0)}}function At(r,p){r&1&&(o(0,"div")(1,"div",39),c(2,"p-progressSpinner",40),o(3,"span",41),s(4,"MINEXA S.R.L."),i()()())}var nt=(()=>{let p=class p{constructor(t,e,a){this.personaService=t,this.messageService=e,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.personaService.index().subscribe({next:t=>{this.regionales=t.regionales,this.personas=t.personas,this.data=t.personas,console.log("RESPONSE->index",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE -> Error en:",t.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(t){this.dialog.showEdit(t)}showDelete(t){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",t),this.personaService.destroy(t).subscribe({next:e=>{this.personas=this.personas.filter(a=>a.id!==t),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg,life:3e3}),console.log("RESPONSE->destroy",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->destroy Error en:",e.error)}})}})}showReport(t){alert("showReport"+t)}exportXLS(){alert("exportXLS")}filter(t){this.personas=this.data.filter(e=>e.idRegional==t)}clearFilter(){this.personas=this.data}};p.\u0275fac=function(e){return new(e||p)(C(ke),C(I),C(U))},p.\u0275cmp=P({type:p,selectors:[["app-index-persona"]],viewQuery:function(e,a){if(e&1&&ie(je,5),e&2){let R;ne(R=oe())&&(a.dialog=R.first)}},standalone:!0,features:[se([I,U]),M],decls:11,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changePersona"],[1,"card-body","shadow-5"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],["for","regional"],[1,"col-6"],["id","regional","optionValue","id","optionLabel","nombre","placeholder","TODOS",3,"onChange","onClear","options","showClear"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id",1,"text-center",2,"width","10%"],["field","id"],["pSortableColumn","documento",2,"width","30%"],["field","documento"],["pSortableColumn","nombre",2,"width","20%"],["field","nombre"],[2,"width","20%"],[1,"text-center"],[2,"width","70px","height","70px","border-radius","50px","border","3px solid #dcdcdc",3,"src"],[1,"prefijoRow"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],["color","red"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(e,a){e&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n del Personal"),i()(),c(3,"hr"),g(4,Lt,16,16,"div",2),c(5,"hr"),o(6,"div",3)(7,"app-dialog-persona",4),h("changePersona",function(){return a.show()}),i(),c(8,"p-confirmDialog")(9,"p-toast"),i(),g(10,At,5,0,"div",2)),e&2&&(l(4),d("ngIf",!a.loading),l(4),y(f(4,Pt)),l(2),d("ngIf",a.loading))},dependencies:[Q,G,H,q,F,Y,Z,k,N,L,W,j,fe,ve,xe,V,D,B,A,O,je]});let r=p;return r})();var Le=(()=>{let p=class p{constructor(t){this.httpClient=t,this.url="http://127.0.0.1:8000/api/codificador/recursoHumano/rol/"}index(){return this.httpClient.get(this.url+"index")}create(){return this.httpClient.get(this.url+"create")}store(t){return this.httpClient.post(this.url+"store",t)}edit(t){return this.httpClient.get(this.url+"edit/"+t)}update(t){return this.httpClient.put(this.url+"update",t)}destroy(t){return this.httpClient.delete(this.url+"destroy/"+t)}};p.\u0275fac=function(e){return new(e||p)(ee(de))},p.\u0275prov=$({token:p,factory:p.\u0275fac,providedIn:"root"});let r=p;return r})();var jt=(r,p)=>p.id,Ht=()=>({width:"75vw"}),Gt=()=>({width:"100%"});function Qt(r,p){r&1&&(o(0,"small",25),s(1,"Requerido."),i())}function qt(r,p){r&1&&(o(0,"small",25),s(1,"Requerido, Alfanum\xE9rico de 1-50."),i())}function zt(r,p){r&1&&(o(0,"small",25),s(1,"Opcional, Alfanum\xE9rico de 0-200."),i())}function Xt(r,p){if(r&1&&(o(0,"tr")(1,"th",29),s(2),i(),c(3,"th",30),i()),r&2){let n=m().$implicit;l(2),b(n.nombre)}}function Kt(r,p){if(r&1&&(o(0,"tr")(1,"td"),s(2),i(),o(3,"td"),c(4,"p-tableCheckbox",31),i()()),r&2){let n=p.$implicit;l(2),b(n.nombre),l(2),d("value",n)}}function Yt(r,p){if(r&1){let n=w();o(0,"div",24)(1,"p-table",26),S("selectionChange",function(e){u(n);let a=m(3);return v(a.selected,e)||(a.selected=e),_(e)}),g(2,Xt,4,1,"ng-template",27)(3,Kt,5,2,"ng-template",28),i()()}if(r&2){let n=p.$implicit,t=m(3);l(),d("value",n.opciones),x("selection",t.selected),d("tableStyle",f(3,Gt))}}function Zt(r,p){if(r&1){let n=w();o(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"label"),s(6,"Regional:"),i()(),o(7,"div",8)(8,"p-dropdown",9),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.rol.idRegional,e)||(a.rol.idRegional=e),_(e)}),i(),g(9,Qt,2,0,"small",10),i()()()(),c(10,"hr"),o(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14),c(15,"i",15)(16,"hr")(17,"hr"),i(),o(18,"div",16)(19,"label",17),s(20,"Nombre"),i(),o(21,"input",18),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.rol.nombre,e)||(a.rol.nombre=e),_(e)}),i(),g(22,qt,2,0,"small",10),i(),o(23,"div",16)(24,"label",19),s(25,"Description"),i(),o(26,"textarea",20),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.rol.descripcion,e)||(a.rol.descripcion=e),_(e)}),i(),g(27,zt,2,0,"small",10),i()()(),o(28,"div",21)(29,"div",13)(30,"p-tabView",22),S("activeIndexChange",function(e){u(n);let a=m(2);return v(a.activeIndex,e)||(a.activeIndex=e),_(e)}),o(31,"p-tabPanel",23)(32,"h5"),s(33,"Permisos disponibles"),i(),c(34,"hr"),o(35,"div",11),Ee(36,Yt,4,4,"div",24,jt),i()()()()()(),c(38,"hr"),o(39,"div")(40,"p")(41,"b"),s(42,"USUARIO: "),i(),s(43),c(44,"br"),o(45,"b"),s(46,"FECHA: "),i(),s(47),z(48,"date"),o(49,"b"),s(50,"HORA: "),i(),s(51),z(52,"date"),i()()()}if(r&2){let n=m(2);l(8),d("options",n.regionales),x("ngModel",n.rol.idRegional),l(),d("ngIf",!n.valIdRegional()),l(12),x("ngModel",n.rol.nombre),l(),d("ngIf",!n.valNombre()),l(4),x("ngModel",n.rol.descripcion),l(),d("ngIf",!n.valDescripcion()),l(3),x("activeIndex",n.activeIndex),l(6),ye(n.permisos),l(7),le(" ",n.usuario.persona.nombre," ",n.usuario.persona.apePaterno," ",n.usuario.persona.apeMaterno,""),l(4),E(" ",X(48,13,n.fechaHora,"dd/MM/yyyy")," "),l(4),E(" ",X(52,16,n.fechaHora,"HH:mm:ss")," ")}}function Jt(r,p){r&1&&(o(0,"div")(1,"div",32),c(2,"p-progressSpinner",33),o(3,"span",34),s(4,"Cargando..."),i()()())}function $t(r,p){if(r&1&&(c(0,"hr"),g(1,Zt,53,19,"div",3)(2,Jt,5,0,"div",3)),r&2){let n=m();l(),d("ngIf",!n.loading),l(),d("ngIf",n.loading)}}function ei(r,p){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),c(3,"span",39),i())}function ti(r,p){if(r&1){let n=w();o(0,"div",35)(1,"div",36),g(2,ei,4,0,"div",3),i(),o(3,"div",8)(4,"p-button",37),h("click",function(){u(n);let e=m();return _(e.save())}),i(),o(5,"p-button",38),h("click",function(){u(n);let e=m();return _(e.cancel())}),i()()()}if(r&2){let n=m();l(2),d("ngIf",n.saving),l(2),d("text",!0)("raised",!0)("hidden",n.saving),l(),d("text",!0)("raised",!0)}}var He=(()=>{let p=class p{constructor(t,e,a){this.principalService=t,this.messageService=e,this.rolService=a,this.changeRol=new te}showCreate(){this.estado=!0,this.loading=!0,this.saving=!1,this.activeIndex=0,console.log("REQUEST->create"),this.rolService.create().subscribe({next:t=>{this.regionales=t.regionales,this.permisos=t.permisos,this.selected=[],this.rol={nombre:"",descripcion:"",permisos:[]},this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->create",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->create Error en:",t.error)},complete:()=>{this.loading=!1}})}showEdit(t){this.estado=!0,this.loading=!0,this.saving=!1,this.activeIndex=0,console.log("REQUEST->edit",t),this.rolService.edit(t).subscribe({next:e=>{this.regionales=e.regionales,this.permisos=e.permisos,this.rol=e.rol,this.rol.permisos=e.rol.permisos.map(a=>({id:a.idPermiso})),this.updatePermisos(),this.usuario=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->edit Error en:",e.error)},complete:()=>{this.loading=!1}})}save(){this.prepareData(),this.validate()?(this.saving=!0,this.rol.id?(console.log("REQUEST->update",this.rol),this.rolService.update(this.rol).subscribe({next:t=>{this.rol=t.rol,this.changeRol.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:t.msg}),console.log("RESPONSE->update",t),this.estado=!1},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->update Error en:",t.error)}})):(console.log("REQUEST->store",this.rol),this.rolService.store(this.rol).subscribe({next:t=>{this.rol=t.rol,this.changeRol.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:t.msg}),console.log("RESPONSE->store",t),this.estado=!1},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->store Error en:",t.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR REQUEST",detail:"Datos Incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}prepareData(){this.rol.permisos=[];let t=[...new Set(this.selected.map(e=>e.idGrupo))];for(let e=0;e<t.length;e++)this.rol.permisos.push({id:t[e]}),this.selected.forEach(a=>{t[e]==a.idGrupo&&this.rol.permisos.push({id:a.id})})}updatePermisos(){this.selected=[],this.permisos.forEach(t=>{t.opciones.length>0&&t.opciones.forEach(e=>{this.rol.permisos?.forEach(a=>{e.id==a.id&&this.selected.push(e)})})})}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valIdRegional(){return!!this.rol.idRegional}valNombre(){return!!/^[a-zA-Z0-9._* -]{1,50}$/.test(this.rol.nombre)}valDescripcion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.rol.descripcion)}validate(){return this.valNombre()&&this.valDescripcion()}};p.\u0275fac=function(e){return new(e||p)(C(_e),C(I),C(Le))},p.\u0275cmp=P({type:p,selectors:[["app-dialog-rol"]],outputs:{changeRol:"changeRol"},standalone:!0,features:[M],decls:3,vars:5,consts:[["closeOnEscape","true","closable","true","header","REGISTRO DE ROLES Y PERMISOS","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],[1,"col-6"],["id","idRegional","optionValue","id","optionLabel","nombre",3,"ngModelChange","options","ngModel"],["class","p-error",4,"ngIf"],[1,"grid"],[1,"col-12","sm:col-4"],[1,"card","shadow-3",2,"min-height","1000px"],[1,"text-center","py-5"],[1,"pi","pi-user",2,"font-size","150px"],[1,"field"],["for","nombre"],["type","text","pInputText","","id","nombre",1,"w-full",3,"ngModelChange","ngModel"],["for","descripcion"],["pInputTextarea","","id","descripcion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"col-12","sm:col-8"],[3,"activeIndexChange","activeIndex"],["header","PERMISOS"],[1,"col-12","md:col-6"],[1,"p-error"],["dataKey","id",3,"selectionChange","value","selection","tableStyle"],["pTemplate","header"],["pTemplate","body"],[2,"width","80%"],[2,"width","20%"],[3,"value"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(e,a){e&1&&(o(0,"p-dialog",0),S("visibleChange",function(T){return v(a.estado,T)||(a.estado=T),T}),g(1,$t,3,2,"ng-template",1)(2,ti,6,6,"ng-template",2),i()),e&2&&(y(f(4,Ht)),x("visible",a.estado),d("modal",!0))},dependencies:[Q,G,we,Fe,Ue,F,k,N,H,q,Oe,V,D,pe,Ce,Se,O,me,ce,ue,L,W,B,A,he,ge,j]});let r=p;return r})();var ii=()=>({width:"450px"}),ni=()=>({width:"100%"}),oi=()=>[10,25,50],ri=()=>["id","nombre","descripcion"],ai=()=>({"min-width":"75rem"});function li(r,p){if(r&1){let n=w();o(0,"div",17)(1,"div",18)(2,"p-button",19),h("click",function(){u(n);let e=m(2);return _(e.showCreate())}),i(),o(3,"p-button",20),h("click",function(){u(n);let e=m(2);return _(e.exportXLS())}),i()(),o(4,"div",21)(5,"span",22),c(6,"i",23),o(7,"input",24),h("input",function(e){u(n),m();let a=re(12);return _(a.filterGlobal(e.target.value,"contains"))}),i()()()()}r&2&&(l(2),d("outlined",!0)("raised",!0),l(),d("outlined",!0)("raised",!0)("text",!0))}function si(r,p){r&1&&(o(0,"tr")(1,"th",25),s(2," FOTO "),c(3,"p-sortIcon",26),i(),o(4,"th",27),s(5," ROL "),c(6,"p-sortIcon",28),i(),o(7,"th",29),s(8," REGIONAL "),c(9,"p-sortIcon",30),i(),o(10,"th",31),s(11," OPCIONES "),i()())}function pi(r,p){if(r&1){let n=w();o(0,"tr")(1,"td",32)(2,"div",33),c(3,"i",34),i()(),o(4,"td")(5,"span",35),s(6,"NOMBRE: "),i(),s(7),c(8,"br"),o(9,"span",35),s(10,"DESCRIPCI\xD3N: "),i(),s(11),i(),o(12,"td"),s(13),i(),o(14,"td")(15,"p-button",36),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showReport(e.id))}),i(),o(16,"p-button",37),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showEdit(e.id))}),i(),o(17,"p-button",38),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showDelete(e.id))}),i()()()}if(r&2){let n=p.$implicit;l(7),E("",n.nombre," "),l(4),E("",n.descripcion," "),l(2),b(n.regional==null?null:n.regional.nombre),l(2),d("rounded",!0)("outlined",!0),l(),d("rounded",!0)("outlined",!0),l(),d("rounded",!0)("outlined",!0)}}function di(r,p){if(r&1){let n=w();o(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",10),s(7,"Regional:"),i()(),o(8,"div",11)(9,"p-dropdown",12),h("onChange",function(e){u(n);let a=m();return _(a.filter(e.value))})("onClear",function(){u(n);let e=m();return _(e.clearFilter())}),i()()()()(),c(10,"hr"),o(11,"p-table",13,0),g(13,li,8,5,"ng-template",14)(14,si,12,0,"ng-template",15)(15,pi,18,9,"ng-template",16),i()()()}if(r&2){let n=m();l(9),y(f(12,ni)),d("options",n.regionales)("showClear",!0),l(2),d("value",n.roles)("rows",10)("rowsPerPageOptions",f(13,oi))("paginator",!0)("globalFilterFields",f(14,ri))("tableStyle",f(15,ai))("rowHover",!0)("showCurrentPageReport",!0)}}function mi(r,p){r&1&&(o(0,"div")(1,"div",39),c(2,"p-progressSpinner",40),o(3,"span",41),s(4,"MINEXA S.R.L."),i()()())}var rt=(()=>{let p=class p{constructor(t,e,a){this.rolService=t,this.messageService=e,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.rolService.index().subscribe({next:t=>{this.regionales=t.regionales,this.roles=t.roles,this.data=t.roles,console.log("RESPONSE->index",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->index Error en:",t.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(t){this.dialog.showEdit(t)}showDelete(t){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...??",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",t),this.rolService.destroy(t).subscribe({next:e=>{this.roles=this.roles.filter(a=>a.id!==t),this.messageService.add({severity:"success",summary:"RESPONSE",detail:e.msg,life:3e3}),console.log("RESPONSE->destroy",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->destroy Error en:",e.error)}})}})}showReport(t){alert("showReport"+t)}exportXLS(){alert("exportXLS")}filter(t){this.roles=this.data.filter(e=>e.idRegional==t)}clearFilter(){this.roles=this.data}};p.\u0275fac=function(e){return new(e||p)(C(Le),C(I),C(U))},p.\u0275cmp=P({type:p,selectors:[["app-index-rol"]],viewQuery:function(e,a){if(e&1&&ie(He,5),e&2){let R;ne(R=oe())&&(a.dialog=R.first)}},standalone:!0,features:[se([I,U]),M],decls:11,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changeRol"],[1,"card-body","shadow-5"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],["for","regional"],[1,"col-6"],["id","regional","optionValue","id","optionLabel","nombre","placeholder","TODOS",3,"onChange","onClear","options","showClear"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id",1,"text-center",2,"width","10%"],["field","id"],["pSortableColumn","nombre",2,"width","50%"],["field","nombre"],["pSortableColumn","regional",2,"width","20%"],["field","regional"],[2,"width","20%"],[1,"flex","justify-content-center"],[1,"text-center",2,"padding","10px","border","2px solid #dcdcdc","border-radius","50%","width","60px","height","60px"],[1,"pi","pi-user",2,"font-size","30px"],[1,"prefijoRow"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(e,a){e&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n de Roles y Permisos"),i()(),c(3,"hr"),g(4,di,16,16,"div",2),c(5,"hr"),o(6,"div",3)(7,"app-dialog-rol",4),h("changeRol",function(){return a.show()}),i(),c(8,"p-confirmDialog")(9,"p-toast"),i(),g(10,mi,5,0,"div",2)),e&2&&(l(4),d("ngIf",!a.loading),l(4),y(f(4,ii)),l(2),d("ngIf",a.loading))},dependencies:[Q,G,k,N,F,H,q,Y,Z,L,W,j,fe,ve,xe,V,D,B,A,O,He]});let r=p;return r})();var Ae=(()=>{let p=class p{constructor(t){this.httpClient=t,this.url="http://127.0.0.1:8000/api/codificador/recursoHumano/usuario/"}index(){return this.httpClient.get(this.url+"index")}create(){return this.httpClient.get(this.url+"create")}store(t){return this.httpClient.post(this.url+"store",t)}edit(t){return this.httpClient.get(this.url+"edit/"+t)}update(t){return this.httpClient.put(this.url+"update",t)}destroy(t){return this.httpClient.delete(this.url+"destroy/"+t)}};p.\u0275fac=function(e){return new(e||p)(ee(de))},p.\u0275prov=$({token:p,factory:p.\u0275fac,providedIn:"root"});let r=p;return r})();var ci=()=>({width:"75vw"}),De=()=>({width:"130px"}),ui=()=>[10,25,50],_i=()=>["id","nombre","descripcion"],lt=()=>({width:"100%",height:"150px"});function gi(r,p){if(r&1&&(o(0,"h2"),s(1),i()),r&2){let n=m(4);l(),E("CI: ",n.personaSelected.documento,"")}}function hi(r,p){if(r&1&&(o(0,"div",40),c(1,"img",41),g(2,gi,2,1,"h2",4),c(3,"hr")(4,"hr"),i()),r&2){let n=m(3);l(),d("src",n.imgUrl,K),l(),d("ngIf",n.personaSelected)}}function fi(r,p){if(r&1&&s(0),r&2){let n=p.$implicit;ae(" ",n.nombre," ",n.apePaterno," ")}}function xi(r,p){r&1&&(o(0,"small",42),s(1,"Requerido."),i())}function vi(r,p){r&1&&(o(0,"small",42),s(1,"Requerido. Tipo fecha."),i())}function Si(r,p){r&1&&(o(0,"small",42),s(1,"Requerido. Alfanum\xE9rico de 0-200."),i())}function Ci(r,p){r&1&&(o(0,"small",42),s(1,"Requerido. "),i())}function wi(r,p){r&1&&(o(0,"small",42),s(1,"Requerido. Tipo xxxx.@minexa.com "),i())}function Ei(r,p){r&1&&(o(0,"tr")(1,"th",43),s(2," ROL "),c(3,"p-sortIcon",44),i(),o(4,"th",45),s(5," DESCRIPCI\xD3N "),c(6,"p-sortIcon",46),i(),c(7,"th",47),i())}function yi(r,p){if(r&1&&(o(0,"tr")(1,"td"),s(2),i(),o(3,"td"),s(4),i(),o(5,"td",40),c(6,"p-tableCheckbox",48),i()()),r&2){let n=p.$implicit;l(2),b(n.nombre),l(2),b(n.descripcion),l(2),d("value",n)}}function bi(r,p){r&1&&(o(0,"tr")(1,"th",47),s(2,"REGIONAL"),i(),o(3,"th",47),s(4,"SUCURSAL"),i(),c(5,"th",47),i())}function Ii(r,p){if(r&1&&(o(0,"tr")(1,"td"),s(2),i(),o(3,"td"),s(4),i(),o(5,"td",40),c(6,"p-tableCheckbox",48),i()()),r&2){let n=p.$implicit;l(2),b(n.regional.nombre),l(2),b(n.nombre),l(2),d("value",n)}}function Ri(r,p){if(r&1){let n=w();o(0,"div")(1,"div",5)(2,"div",6)(3,"div",7),g(4,hi,5,2,"div",8),o(5,"div",9)(6,"label",10),s(7,"Personal:"),i(),o(8,"p-dropdown",11),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.personaSelected,e)||(a.personaSelected=e),_(e)}),h("onChange",function(){u(n);let e=m(2);return _(e.loadImg())}),g(9,fi,1,2,"ng-template",12),i(),g(10,xi,2,0,"small",13),i(),o(11,"div",9)(12,"label",14),s(13,"Fecha Inicio"),i(),o(14,"input",15),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.usuario.fechaInicio,e)||(a.usuario.fechaInicio=e),_(e)}),i(),g(15,vi,2,0,"small",13),i(),o(16,"div",9)(17,"label",16),s(18,"Fecha Fin"),i(),o(19,"input",17),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.usuario.fechaFin,e)||(a.usuario.fechaFin=e),_(e)}),i()(),o(20,"div",9)(21,"label",18),s(22,"Decripci\xF3n"),i(),o(23,"textarea",19),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.usuario.descripcion,e)||(a.usuario.descripcion=e),_(e)}),i(),g(24,Si,2,0,"small",13),i()()(),o(25,"div",20)(26,"div",7)(27,"p-tabView",21),S("activeIndexChange",function(e){u(n);let a=m(2);return v(a.activeIndex,e)||(a.activeIndex=e),_(e)}),o(28,"p-tabPanel",22)(29,"div",5)(30,"div",20)(31,"h5"),s(32,"Cuenta de Usuario"),i()(),o(33,"div",6)(34,"div",23)(35,"p-button",24),h("onClick",function(){u(n);let e=m(2);return _(e.generarUser())}),i()()()(),c(36,"hr"),o(37,"div",9)(38,"label",25),s(39,"Usuasrio"),i(),o(40,"input",26),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.usuario.login,e)||(a.usuario.login=e),_(e)}),i(),g(41,Ci,2,0,"small",13),i(),o(42,"div",9)(43,"label",27),s(44,"Contrase\xF1a"),i(),o(45,"p-password",28),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.usuario.password,e)||(a.usuario.password=e),_(e)}),i()(),o(46,"div",9)(47,"label",29),s(48,"Email"),i(),o(49,"input",30),S("ngModelChange",function(e){u(n);let a=m(2);return v(a.usuario.email,e)||(a.usuario.email=e),_(e)}),i(),g(50,wi,2,0,"small",13),i(),c(51,"hr"),o(52,"div",31)(53,"p-button",32),h("onClick",function(){u(n);let e=m(2);return _(e.activeIndex=1)}),i()()(),o(54,"p-tabPanel",33)(55,"h5"),s(56,"Acceso al Sistema"),i(),c(57,"hr"),o(58,"p-table",34,0),S("selectionChange",function(e){u(n);let a=m(2);return v(a.rolesSelected,e)||(a.rolesSelected=e),_(e)}),g(60,Ei,8,0,"ng-template",35)(61,yi,7,3,"ng-template",36),i(),o(62,"div",31)(63,"p-button",37),h("onClick",function(){u(n);let e=m(2);return _(e.activeIndex=0)}),i(),s(64,"\xA0 "),o(65,"p-button",32),h("onClick",function(){u(n);let e=m(2);return _(e.activeIndex=2)}),i()()(),o(66,"p-tabPanel",38)(67,"h5"),s(68,"Acceso a la Informaci\xF3n"),i(),c(69,"hr"),o(70,"p-table",39),S("selectionChange",function(e){u(n);let a=m(2);return v(a.sucursalesSelected,e)||(a.sucursalesSelected=e),_(e)}),g(71,bi,6,0,"ng-template",35)(72,Ii,7,3,"ng-template",36),i(),o(73,"div",31)(74,"p-button",37),h("onClick",function(){u(n);let e=m(2);return _(e.activeIndex=1)}),i()()()()()()(),c(75,"hr"),o(76,"div")(77,"p")(78,"b"),s(79,"USUARIO: "),i(),s(80),c(81,"br"),o(82,"b"),s(83,"FECHA: "),i(),s(84),z(85,"date"),o(86,"b"),s(87,"HORA: "),i(),s(88),z(89,"date"),i()()()}if(r&2){let n=m(2);l(4),d("ngIf",n.imgUrl),l(4),d("options",n.personas),x("ngModel",n.personaSelected),l(2),d("ngIf",!n.valPersona()),l(4),x("ngModel",n.usuario.fechaInicio),l(),d("ngIf",!n.valFechaInicio()),l(4),x("ngModel",n.usuario.fechaFin),l(4),x("ngModel",n.usuario.descripcion),l(),d("ngIf",!n.valDescripcion()),l(3),x("activeIndex",n.activeIndex),l(8),y(f(59,De)),d("rounded",!0)("outlined",!0),l(5),x("ngModel",n.usuario.login),l(),d("ngIf",!n.valLogin()),l(4),x("ngModel",n.usuario.password),d("toggleMask",!0),l(4),x("ngModel",n.usuario.email),l(),d("ngIf",!n.valEmail()),l(3),y(f(60,De)),d("rounded",!0)("outlined",!0),l(5),d("value",n.roles),x("selection",n.rolesSelected),d("rows",10)("rowsPerPageOptions",f(61,ui))("paginator",!0)("globalFilterFields",f(62,_i))("tableStyle",f(63,lt))("rowHover",!0)("showCurrentPageReport",!0),l(5),y(f(64,De)),d("rounded",!0)("outlined",!0),l(2),y(f(65,De)),d("rounded",!0)("outlined",!0),l(5),d("value",n.sucursales),x("selection",n.sucursalesSelected),d("tableStyle",f(66,lt)),l(4),y(f(67,De)),d("rounded",!0)("outlined",!0),l(6),le(" ",n.user.persona.nombre," ",n.user.persona.apePaterno," ",n.user.persona.apeMaterno,""),l(4),E(" ",X(85,53,n.fechaHora,"dd/MM/yyyy")," "),l(4),E(" ",X(89,56,n.fechaHora,"HH:mm:ss")," ")}}function Ti(r,p){r&1&&(o(0,"div")(1,"div",49),c(2,"p-progressSpinner",50),o(3,"span",51),s(4,"Cargando..."),i()()())}function Pi(r,p){if(r&1&&(c(0,"hr"),g(1,Ri,90,68,"div",4)(2,Ti,5,0,"div",4)),r&2){let n=m();l(),d("ngIf",!n.loading),l(),d("ngIf",n.loading)}}function Mi(r,p){r&1&&(o(0,"div")(1,"h5"),s(2,"Guardando..."),i(),c(3,"span",57),i())}function Di(r,p){if(r&1){let n=w();o(0,"div",52)(1,"div",53),g(2,Mi,4,0,"div",4),i(),o(3,"div",54)(4,"p-button",55),h("click",function(){u(n);let e=m();return _(e.save())}),i(),o(5,"p-button",56),h("click",function(){u(n);let e=m();return _(e.cancel())}),i()()()}if(r&2){let n=m();l(2),d("ngIf",n.saving),l(2),d("text",!0)("raised",!0)("hidden",n.saving),l(),d("text",!0)("raised",!0)}}var Ge=(()=>{let p=class p{constructor(t,e,a){this.principalService=t,this.messageService=e,this.usuarioService=a,this.changeUsuario=new te}showCreate(){this.estado=!0,this.loading=!0,this.saving=!1,this.activeIndex=0,console.log("REQUEST->create"),this.usuarioService.create().subscribe({next:t=>{this.personas=t.personas,this.personaSelected={documento:"",nombre:"",apePaterno:"",apeMaterno:"",direccion:"",fono:"",foto:"",descripcion:""},this.roles=t.roles,this.rolesSelected=[],this.sucursales=t.sucursales,this.sucursalesSelected=[],this.imgUrl="/img/userDefecto.png",this.imgValida=!1,this.usuario={login:"",password:"",password_confirmation:"",email:"",fechaInicio:"",fechaFin:"",descripcion:""},this.user=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->create",t)},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->create Error en:",t.error)},complete:()=>{this.loading=!1}})}showEdit(t){this.estado=!0,this.loading=!0,this.saving=!1,this.activeIndex=0,console.log("REQUEST->edit",t),this.usuarioService.edit(t).subscribe({next:e=>{this.personas=e.personas,this.roles=e.roles,this.sucursales=e.sucursales,this.imgUrl=e.usuario.persona.foto,this.imgValida=!0,this.usuario=e.usuario,this.updateSelecteds(),this.user=this.principalService.getUsuarioStorage(),this.fechaHora=this.initReloj(),console.log("RESPONSE->edit",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->edit Error en:",e.error)},complete:()=>{this.loading=!1}})}save(){this.prepareData(),this.validate()?(this.saving=!0,this.usuario.id?(console.log("REQUEST->update",this.usuario),this.usuarioService.update(this.usuario).subscribe({next:t=>{this.usuario=t.usuario,this.changeUsuario.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:t.msg}),console.log("RESPONSE->update",t),this.estado=!1},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->update Error en:",t.error)}})):(console.log("REQUEST->store",this.usuario),this.usuarioService.store(this.usuario).subscribe({next:t=>{this.usuario=t.usuario,this.changeUsuario.emit(),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:t.msg}),console.log("RESPONSE->store",t),this.estado=!1},error:t=>{this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE->store Error en:",t.error)}}))):(this.messageService.add({severity:"error",summary:"ERROR",detail:"Datos incorrectos...!!"}),console.log("Datos Incorrectos...!!"))}cancel(){this.estado=!1}prepareData(){this.usuario.idPersona=this.personaSelected.id,this.usuario.roles=this.rolesSelected.map(t=>({idRol:t.id??0})),this.usuario.sucursales=this.sucursalesSelected.map(t=>({idRegional:t.idRegional??0,idSucursal:t.id??0}))}updateSelecteds(){this.personas.forEach(t=>{t.id==this.usuario.idPersona&&(this.personaSelected=t)}),this.rolesSelected=[],this.roles.forEach(t=>{this.usuario.roles?.forEach(e=>{t.id==e.idRol&&this.rolesSelected.push(t)})}),this.sucursalesSelected=[],this.sucursales.forEach(t=>{this.usuario.sucursales?.forEach(e=>{t.id==e.idSucursal&&this.sucursalesSelected.push(t)})})}generarUser(){this.usuario.login=this.personaSelected.nombre.toLowerCase().trim().split(" ")[0].normalize("NFD").replace(/[\u0300-\u036f]/g,"")+"."+this.personaSelected.apePaterno.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""),this.usuario.email=this.usuario.login+"@minexa.com",this.usuario.password="minexa_"+this.personaSelected.documento.toLowerCase().trim()}loadImg(){this.imgUrl=this.personaSelected.foto}initReloj(){setInterval(()=>{this.fechaHora=new Date},1e3)}valPersona(){return!!this.personaSelected}valFechaInicio(){return!!/^[\d/-]{1,10}$/.test(this.usuario.fechaInicio)}valDescripcion(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{0,200}$/.test(this.usuario.descripcion)}valLogin(){return!!/^[\w áéíóúüñÁÉÍÓÚÜÑ.-]{1,50}$/.test(this.usuario.login)}valEmail(){return!!/^[\w._-]{1,50}@minexa.com$/.test(this.usuario.email)}validate(){return this.valPersona()&&this.valFechaInicio()&&this.valDescripcion()&&this.valLogin()&&this.valEmail()}};p.\u0275fac=function(e){return new(e||p)(C(_e),C(I),C(Ae))},p.\u0275cmp=P({type:p,selectors:[["app-dialog-usuario"]],outputs:{changeUsuario:"changeUsuario"},standalone:!0,features:[M],decls:3,vars:5,consts:[["dt",""],["closeOnEscape","true","closable","true","header","REGISTRO DE USUARIO","styleClass","p-fluid dialog-responsive custom-header",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[4,"ngIf"],[1,"grid"],[1,"col-12","sm:col-4"],[1,"card","shadow-3",2,"min-height","650px"],["class","text-center",4,"ngIf"],[1,"field"],["for","idTipoPersona"],["id","idTipoPersona","optionLabel","nombre",3,"ngModelChange","onChange","options","ngModel"],["pTemplate","item"],["class","p-error",4,"ngIf"],["for","fechaInicio"],["type","date","pInputText","","id","fechaInicio",1,"w-full",3,"ngModelChange","ngModel"],["for","fechaFin"],["type","date","pInputText","","id","fechaFin",1,"w-full",3,"ngModelChange","ngModel"],["for","descripcion"],["pInputTextarea","","id","descripcion","rows","3","cols","20",1,"w-full",3,"ngModelChange","ngModel"],[1,"col-12","sm:col-8"],[3,"activeIndexChange","activeIndex"],["header","CUENTA"],[1,"flex","justify-content-end"],["label","Generar","severity","secondary","icon","pi pi-user","iconPos","left",3,"onClick","rounded","outlined"],["for","login"],["type","text","pInputText","","id","login",1,"w-full",3,"ngModelChange","ngModel"],["for","password"],["id","password",3,"ngModelChange","ngModel","toggleMask"],["for","email"],["type","text","pInputText","","id","email",1,"w-full",3,"ngModelChange","ngModel"],[1,"text-right","mt-3"],["label","Siguiente","severity","success","icon","pi pi-arrow-right","iconPos","right",3,"onClick","rounded","outlined"],["header","ROLES"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"selectionChange","value","selection","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["label","Anterior","severity","success","icon","pi pi-arrow-left","iconPos","left",3,"onClick","rounded","outlined"],["header","SUCURSALES"],["dataKey","id",3,"selectionChange","value","selection","tableStyle"],[1,"text-center"],["alt","Vista previa de la imagen",2,"width","90px","height","100px",3,"src"],[1,"p-error"],["pSortableColumn","nombre",2,"width","30%"],["field","nombre"],["pSortableColumn","descripcion",2,"width","40%"],["field","descripcion"],[2,"width","30%"],[3,"value"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","30vh"],["ariaLabel","loading"],[1,"loader","ps-5"],[1,"grid","custom-footer"],[1,"col-6","text-left"],[1,"col-6"],["pRipple","","label","Guardar","icon","pi pi-check","severity","primary",3,"click","text","raised","hidden"],["pRipple","","label","Cancelar","icon","pi pi-times","severity","warning",3,"click","text","raised"],[1,"saving"]],template:function(e,a){e&1&&(o(0,"p-dialog",1),S("visibleChange",function(T){return v(a.estado,T)||(a.estado=T),T}),g(1,Pi,3,2,"ng-template",2)(2,Di,6,6,"ng-template",3),i()),e&2&&(y(f(4,ci)),x("visible",a.estado),d("modal",!0))},dependencies:[Q,G,we,Fe,Ue,F,k,N,Ne,H,q,Y,Z,Oe,Ve,Xe,V,D,pe,Ce,Se,O,me,ce,ue,L,W,B,A,he,ge,j]});let r=p;return r})();var Vi=()=>({width:"450px"}),Oi=()=>({width:"100%"}),Ui=()=>[10,25,50],Fi=()=>["id","ci","nombre","direccion","fono"],Ni=()=>({"min-width":"75rem"});function ki(r,p){if(r&1){let n=w();o(0,"div",17)(1,"div",18)(2,"p-button",19),h("click",function(){u(n);let e=m(2);return _(e.showCreate())}),i(),o(3,"p-button",20),h("click",function(){u(n);let e=m(2);return _(e.exportXLS())}),i()(),o(4,"div",21)(5,"span",22),c(6,"i",23),o(7,"input",24),h("input",function(e){u(n),m();let a=re(12);return _(a.filterGlobal(e.target.value,"contains"))}),i()()()()}r&2&&(l(2),d("outlined",!0)("raised",!0),l(),d("outlined",!0)("raised",!0)("text",!0))}function Wi(r,p){r&1&&(o(0,"tr")(1,"th",25),s(2," FOTO "),c(3,"p-sortIcon",26),i(),o(4,"th",27),s(5," DATOS PERSONAL "),c(6,"p-sortIcon",28),i(),o(7,"th",29),s(8," DATOS CUENTA "),c(9,"p-sortIcon",30),i(),o(10,"th",31),s(11," ROLES "),c(12,"p-sortIcon",30),i(),o(13,"th",31),s(14," SUCURSALES "),c(15,"p-sortIcon",30),i(),o(16,"th",32),s(17," OPCIONES "),i()())}function Li(r,p){if(r&1&&(s(0),c(1,"br")),r&2){let n=p.$implicit;E(" * ",n.rol.nombre," ")}}function Ai(r,p){if(r&1&&(s(0),c(1,"br")),r&2){let n=p.$implicit;E(" * ",n.sucursal.nombre," ")}}function Bi(r,p){if(r&1){let n=w();o(0,"tr")(1,"td",33),c(2,"img",34),i(),o(3,"td")(4,"span",35),s(5,"CI: "),i(),s(6),c(7,"br"),o(8,"span",35),s(9,"NOMBRE: "),i(),s(10),c(11,"br"),o(12,"span",35),s(13,"TEL\xC9FONO: "),i(),s(14),i(),o(15,"td")(16,"span",35),s(17,"CUENTA: "),i(),s(18),c(19,"br"),o(20,"span",35),s(21,"EMAIL: "),i(),s(22),c(23,"br"),o(24,"span",35),s(25,"INICIO: "),i(),s(26),c(27,"br"),o(28,"span",35),s(29,"FIN: "),i(),s(30),i(),o(31,"td"),Ee(32,Li,2,1,"br",null,Be),i(),o(34,"td"),Ee(35,Ai,2,1,"br",null,Be),i(),o(37,"td")(38,"p-button",36),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showReport(e.id))}),i(),o(39,"p-button",37),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showEdit(e.id))}),i(),o(40,"p-button",38),h("click",function(){let e=u(n).$implicit,a=m(2);return _(a.showDelete(e.id))}),i()()()}if(r&2){let n=p.$implicit;l(2),d("src",n.persona.foto,K),l(4),b(n.persona.documento),l(4),ae("",n.persona.nombre," ",n.persona.apePaterno,""),l(4),E("",n.persona.fono," "),l(4),b(n.login),l(4),b(n.email),l(4),b(n.fechaInicio),l(4),E("",n.fechaFin," "),l(2),ye(n.roles),l(3),ye(n.sucursales),l(3),d("rounded",!0)("outlined",!0),l(),d("rounded",!0)("outlined",!0),l(),d("rounded",!0)("outlined",!0)}}function ji(r,p){if(r&1){let n=w();o(0,"div")(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"label",10),s(7,"Regional:"),i()(),o(8,"div",11)(9,"p-dropdown",12),h("onChange",function(e){u(n);let a=m();return _(a.filter(e.value))})("onClear",function(){u(n);let e=m();return _(e.clearFilter())}),i()()()()(),c(10,"hr"),o(11,"p-table",13,0),g(13,ki,8,5,"ng-template",14)(14,Wi,18,0,"ng-template",15)(15,Bi,41,15,"ng-template",16),i()()()}if(r&2){let n=m();l(9),y(f(12,Oi)),d("options",n.regionales)("showClear",!0),l(2),d("value",n.usuarios)("rows",10)("rowsPerPageOptions",f(13,Ui))("paginator",!0)("globalFilterFields",f(14,Fi))("tableStyle",f(15,Ni))("rowHover",!0)("showCurrentPageReport",!0)}}function Hi(r,p){r&1&&(o(0,"div")(1,"div",39),c(2,"p-progressSpinner",40),o(3,"span",41),s(4,"MINEXA S.R.L."),i()()())}var st=(()=>{let p=class p{constructor(t,e,a){this.usuarioService=t,this.messageService=e,this.confirmationService=a,this.loading=!1}ngOnInit(){this.show()}show(){this.loading=!0,console.log("REQUEST->index"),this.usuarioService.index().subscribe({next:t=>{this.regionales=t.regionales,this.usuarios=t.usuarios,this.data=t.usuarios,console.log("RESPONSE->index",t)},error:t=>{this.usuarios=[],this.messageService.add({severity:"error",summary:"ERROR",detail:t.error.message}),console.log("RESPONSE -> Error en:",t.error)},complete:()=>{this.loading=!1}})}showCreate(){this.dialog.showCreate()}showEdit(t){this.dialog.showEdit(t)}showDelete(t){this.confirmationService.confirm({message:"Est\xE1 seguro de eliminar el Registro...?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{console.log("REQUEST->destroy",t),this.usuarioService.destroy(t).subscribe({next:e=>{this.usuarios=this.usuarios.filter(a=>a.id!==t),this.messageService.add({severity:"success",summary:"CONFIRMACI\xD3N",detail:e.msg,life:3e3}),console.log("RESPONSE->destroy",e)},error:e=>{this.messageService.add({severity:"error",summary:"ERROR",detail:e.error.message}),console.log("RESPONSE->destroy Error en:",e.error)}})}})}showReport(t){alert("showReport"+t)}exportXLS(){alert("exportXLS")}filter(t){this.usuarios=this.data.filter(e=>e.persona.idRegional==t)}clearFilter(){this.usuarios=this.data}};p.\u0275fac=function(e){return new(e||p)(C(Ae),C(I),C(U))},p.\u0275cmp=P({type:p,selectors:[["app-index-usuario"]],viewQuery:function(e,a){if(e&1&&ie(Ge,5),e&2){let R;ne(R=oe())&&(a.dialog=R.first)}},standalone:!0,features:[se([I,U]),M],decls:11,vars:5,consts:[["dt",""],[1,"card-header","shadow-5"],[4,"ngIf"],[1,"card-footer"],[3,"changeUsuario"],[1,"card-body","shadow-5"],[1,"grid","flex","justify-content-center"],[1,"col-10"],[1,"grid","field"],[1,"col-4","text-right","pt-2"],["for","regional"],[1,"col-6"],["id","regional","optionValue","id","optionLabel","nombre","placeholder","TODOS",3,"onChange","onClear","options","showClear"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","rowsPerPageOptions","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"grid"],[1,"col-12","sm:col-8"],["pRipple","","severity","primary","label","Nuevo","icon","pi pi-plus",1,"ml-2",3,"click","outlined","raised"],["pRipple","","severity","info","label","Reporte","icon","pi pi-print",1,"ml-2",3,"click","outlined","raised","text"],[1,"col-12","sm:col-4","text-right"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar...",1,"w-full",3,"input"],["pSortableColumn","id",1,"text-center",2,"width","10%"],["field","id"],["pSortableColumn","id",2,"width","20%"],["field","ci"],["pSortableColumn","nombre",2,"width","20%"],["field","nombre"],["pSortableColumn","nombre",2,"width","15%"],[2,"width","20%"],[1,"text-center"],[2,"width","70px","height","70px","border-radius","50px","border","3px solid #dcdcdc",3,"src"],[1,"prefijoRow"],["pRipple","","icon","pi pi-print","severity","info",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-pencil","severity","success",1,"mr-2",3,"click","rounded","outlined"],["pRipple","","icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],[1,"card","mt-3","flex","flex-column","justify-content-center","align-items-center",2,"height","50vh"],["ariaLabel","loading"],[1,"loader","ps-5"]],template:function(e,a){e&1&&(o(0,"div",1)(1,"h3"),s(2,"Gesti\xF3n de Usuarios"),i()(),c(3,"hr"),g(4,ji,16,16,"div",2),c(5,"hr"),o(6,"div",3)(7,"app-dialog-usuario",4),h("changeUsuario",function(){return a.show()}),i(),c(8,"p-confirmDialog")(9,"p-toast"),i(),g(10,Hi,5,0,"div",2)),e&2&&(l(4),d("ngIf",!a.loading),l(4),y(f(4,Vi)),l(2),d("ngIf",a.loading))},dependencies:[Q,G,k,N,F,H,q,Y,Z,L,W,j,fe,ve,xe,V,D,B,A,O,Ge]});let r=p;return r})();var To=[{path:"persona/index",component:nt},{path:"rol/index",component:rt},{path:"usuario/index",component:st}];export{To as RecursoHumanoRoutes};
